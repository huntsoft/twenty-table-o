import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/modules/workflow/workflow-variables/components/WorkflowVariablesDropdownFieldItems.tsx");if (!window.$RefreshReg$) throw new Error("React refresh preamble was not loaded. Something is wrong.");
const prevRefreshReg = window.$RefreshReg$;
const prevRefreshSig = window.$RefreshSig$;
window.$RefreshReg$ = RefreshRuntime.getRefreshReg("D:/twenty-table-o/packages/twenty-front/src/modules/workflow/workflow-variables/components/WorkflowVariablesDropdownFieldItems.tsx");
window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;

import * as RefreshRuntime from "/@react-refresh";

import { jsxDEV as _jsxDEV, Fragment as _Fragment } from "/@fs/D:/twenty-table-o/node_modules/.vite/packages/twenty-front/deps/@emotion_react_jsx-dev-runtime.js?v=226f7286";
var _s = $RefreshSig$();
import { DropdownMenuHeader } from "/src/modules/ui/layout/dropdown/components/DropdownMenuHeader/DropdownMenuHeader.tsx";
import { DropdownMenuItemsContainer } from "/src/modules/ui/layout/dropdown/components/DropdownMenuItemsContainer.tsx";
import { DropdownMenuSearchInput } from "/src/modules/ui/layout/dropdown/components/DropdownMenuSearchInput.tsx";
import { DropdownMenuSeparator } from "/src/modules/ui/layout/dropdown/components/DropdownMenuSeparator.tsx";
import { isBaseOutputSchema } from "/src/modules/workflow/workflow-variables/utils/isBaseOutputSchema.ts";
import { isRecordOutputSchema } from "/src/modules/workflow/workflow-variables/utils/isRecordOutputSchema.ts";
import { DropdownMenuHeaderLeftComponent } from "/src/modules/ui/layout/dropdown/components/DropdownMenuHeader/internal/DropdownMenuHeaderLeftComponent.tsx";
import { activeTabIdComponentState } from "/src/modules/ui/layout/tab/states/activeTabIdComponentState.ts";
import { useSetRecoilComponentStateV2 } from "/src/modules/ui/utilities/state/component-state/hooks/useSetRecoilComponentStateV2.ts";
import { workflowDiagramTriggerNodeSelectionState } from "/src/modules/workflow/workflow-diagram/states/workflowDiagramTriggerNodeSelectionState.ts";
import { workflowSelectedNodeState } from "/src/modules/workflow/workflow-diagram/states/workflowSelectedNodeState.ts";
import { getCurrentSubStepFromPath } from "/src/modules/workflow/workflow-variables/utils/getCurrentSubStepFromPath.ts";
import { getStepHeaderLabel } from "/src/modules/workflow/workflow-variables/utils/getStepHeaderLabel.ts";
import { isLinkOutputSchema } from "/src/modules/workflow/workflow-variables/utils/isLinkOutputSchema.ts";
import __vite__cjsImport16_react from "/@fs/D:/twenty-table-o/node_modules/.vite/packages/twenty-front/deps/react.js?v=226f7286"; const useState = __vite__cjsImport16_react["useState"];
import { useSetRecoilState } from "/@fs/D:/twenty-table-o/node_modules/.vite/packages/twenty-front/deps/recoil.js?v=226f7286";
import { IconChevronLeft, MenuItemSelect, OverflowingTextWithTooltip, useIcons } from "/@fs/D:/twenty-table-o/packages/twenty-ui/src/index.ts";
import { isDefined } from "/@fs/D:/twenty-table-o/packages/twenty-shared/utils/dist/twenty-shared-utils.esm.js";
export const WorkflowVariablesDropdownFieldItems = ({ step, onSelect, onBack })=>{
    _s();
    const [currentPath, setCurrentPath] = useState([]);
    const [searchInputValue, setSearchInputValue] = useState('');
    const { getIcon } = useIcons();
    const setWorkflowSelectedNode = useSetRecoilState(workflowSelectedNodeState);
    const setActiveTabId = useSetRecoilComponentStateV2(activeTabIdComponentState, 'workflow-serverless-function-tab-list-component-id');
    const setWorkflowDiagramTriggerNodeSelection = useSetRecoilState(workflowDiagramTriggerNodeSelectionState);
    const getDisplayedSubStepFields = ()=>{
        const currentSubStep = getCurrentSubStepFromPath(step, currentPath);
        if (isLinkOutputSchema(currentSubStep)) {
            return {
                link: currentSubStep.link
            };
        } else if (isRecordOutputSchema(currentSubStep)) {
            return currentSubStep.fields;
        } else if (isBaseOutputSchema(currentSubStep)) {
            return currentSubStep;
        }
    };
    const handleSelectField = (key)=>{
        const currentSubStep = getCurrentSubStepFromPath(step, currentPath);
        const handleSelectBaseOutputSchema = (baseOutputSchema)=>{
            if (!baseOutputSchema[key]?.isLeaf) {
                setCurrentPath([
                    ...currentPath,
                    key
                ]);
                setSearchInputValue('');
            } else {
                onSelect(`{{${step.id}.${[
                    ...currentPath,
                    key
                ].join('.')}}}`);
            }
        };
        const handleSelectLinkOutputSchema = (linkOutputSchema)=>{
            setWorkflowSelectedNode(step.id);
            setWorkflowDiagramTriggerNodeSelection(step.id);
            if (isDefined(linkOutputSchema.link.tab)) {
                setActiveTabId(linkOutputSchema.link.tab);
            }
        };
        if (isLinkOutputSchema(currentSubStep)) {
            handleSelectLinkOutputSchema(currentSubStep);
        } else if (isRecordOutputSchema(currentSubStep)) {
            handleSelectBaseOutputSchema(currentSubStep.fields);
        } else if (isBaseOutputSchema(currentSubStep)) {
            handleSelectBaseOutputSchema(currentSubStep);
        }
    };
    const goBack = ()=>{
        if (currentPath.length === 0) {
            onBack();
        } else {
            setCurrentPath(currentPath.slice(0, -1));
        }
    };
    const displayedObject = getDisplayedSubStepFields();
    const options = displayedObject ? Object.entries(displayedObject) : [];
    const filteredOptions = searchInputValue ? options.filter(([_, value])=>value.label && value.label.toLowerCase().includes(searchInputValue.toLowerCase())) : options;
    return /*#__PURE__*/ _jsxDEV(_Fragment, {
        children: [
            /*#__PURE__*/ _jsxDEV(DropdownMenuHeader, {
                StartComponent: /*#__PURE__*/ _jsxDEV(DropdownMenuHeaderLeftComponent, {
                    onClick: goBack,
                    Icon: IconChevronLeft
                }, void 0, false, {
                    fileName: "D:/twenty-table-o/packages/twenty-front/src/modules/workflow/workflow-variables/components/WorkflowVariablesDropdownFieldItems.tsx",
                    lineNumber: 122,
                    columnNumber: 11
                }, void 0),
                style: {
                    position: 'fixed'
                },
                children: /*#__PURE__*/ _jsxDEV(OverflowingTextWithTooltip, {
                    text: getStepHeaderLabel(step, currentPath)
                }, void 0, false, {
                    fileName: "D:/twenty-table-o/packages/twenty-front/src/modules/workflow/workflow-variables/components/WorkflowVariablesDropdownFieldItems.tsx",
                    lineNumber: 129,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "D:/twenty-table-o/packages/twenty-front/src/modules/workflow/workflow-variables/components/WorkflowVariablesDropdownFieldItems.tsx",
                lineNumber: 120,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ _jsxDEV(DropdownMenuSearchInput, {
                autoFocus: true,
                value: searchInputValue,
                onChange: (event)=>setSearchInputValue(event.target.value)
            }, void 0, false, {
                fileName: "D:/twenty-table-o/packages/twenty-front/src/modules/workflow/workflow-variables/components/WorkflowVariablesDropdownFieldItems.tsx",
                lineNumber: 133,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ _jsxDEV(DropdownMenuSeparator, {}, void 0, false, {
                fileName: "D:/twenty-table-o/packages/twenty-front/src/modules/workflow/workflow-variables/components/WorkflowVariablesDropdownFieldItems.tsx",
                lineNumber: 138,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ _jsxDEV(DropdownMenuItemsContainer, {
                children: filteredOptions.map(([key, subStep])=>/*#__PURE__*/ _jsxDEV(MenuItemSelect, {
                        selected: false,
                        hovered: false,
                        onClick: ()=>handleSelectField(key),
                        text: subStep.label || key,
                        hasSubMenu: !subStep.isLeaf,
                        LeftIcon: subStep.icon ? getIcon(subStep.icon) : undefined,
                        contextualText: subStep.isLeaf ? subStep?.value?.toString() : undefined
                    }, key, false, {
                        fileName: "D:/twenty-table-o/packages/twenty-front/src/modules/workflow/workflow-variables/components/WorkflowVariablesDropdownFieldItems.tsx",
                        lineNumber: 141,
                        columnNumber: 11
                    }, this))
            }, void 0, false, {
                fileName: "D:/twenty-table-o/packages/twenty-front/src/modules/workflow/workflow-variables/components/WorkflowVariablesDropdownFieldItems.tsx",
                lineNumber: 139,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true);
};
_s(WorkflowVariablesDropdownFieldItems, "ADbC4i1q4MostXjWq75HZo1mil4=", false, function() {
    return [
        useIcons,
        useSetRecoilState,
        useSetRecoilComponentStateV2,
        useSetRecoilState
    ];
});
_c = WorkflowVariablesDropdownFieldItems;
var _c;
$RefreshReg$(_c, "WorkflowVariablesDropdownFieldItems");


window.$RefreshReg$ = prevRefreshReg;
window.$RefreshSig$ = prevRefreshSig;

RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
  RefreshRuntime.registerExportsForReactRefresh("D:/twenty-table-o/packages/twenty-front/src/modules/workflow/workflow-variables/components/WorkflowVariablesDropdownFieldItems.tsx", currentExports);
  import.meta.hot.accept((nextExports) => {
    if (!nextExports) return;
    const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("D:/twenty-table-o/packages/twenty-front/src/modules/workflow/workflow-variables/components/WorkflowVariablesDropdownFieldItems.tsx", currentExports, nextExports);
    if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
  });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIldvcmtmbG93VmFyaWFibGVzRHJvcGRvd25GaWVsZEl0ZW1zLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEcm9wZG93bk1lbnVIZWFkZXIgfSBmcm9tICdAL3VpL2xheW91dC9kcm9wZG93bi9jb21wb25lbnRzL0Ryb3Bkb3duTWVudUhlYWRlci9Ecm9wZG93bk1lbnVIZWFkZXInO1xuaW1wb3J0IHsgRHJvcGRvd25NZW51SXRlbXNDb250YWluZXIgfSBmcm9tICdAL3VpL2xheW91dC9kcm9wZG93bi9jb21wb25lbnRzL0Ryb3Bkb3duTWVudUl0ZW1zQ29udGFpbmVyJztcbmltcG9ydCB7IERyb3Bkb3duTWVudVNlYXJjaElucHV0IH0gZnJvbSAnQC91aS9sYXlvdXQvZHJvcGRvd24vY29tcG9uZW50cy9Ecm9wZG93bk1lbnVTZWFyY2hJbnB1dCc7XG5pbXBvcnQgeyBEcm9wZG93bk1lbnVTZXBhcmF0b3IgfSBmcm9tICdAL3VpL2xheW91dC9kcm9wZG93bi9jb21wb25lbnRzL0Ryb3Bkb3duTWVudVNlcGFyYXRvcic7XG5pbXBvcnQge1xuICBCYXNlT3V0cHV0U2NoZW1hLFxuICBMaW5rT3V0cHV0U2NoZW1hLFxuICBTdGVwT3V0cHV0U2NoZW1hLFxufSBmcm9tICdAL3dvcmtmbG93L3dvcmtmbG93LXZhcmlhYmxlcy90eXBlcy9TdGVwT3V0cHV0U2NoZW1hJztcbmltcG9ydCB7IGlzQmFzZU91dHB1dFNjaGVtYSB9IGZyb20gJ0Avd29ya2Zsb3cvd29ya2Zsb3ctdmFyaWFibGVzL3V0aWxzL2lzQmFzZU91dHB1dFNjaGVtYSc7XG5pbXBvcnQgeyBpc1JlY29yZE91dHB1dFNjaGVtYSB9IGZyb20gJ0Avd29ya2Zsb3cvd29ya2Zsb3ctdmFyaWFibGVzL3V0aWxzL2lzUmVjb3JkT3V0cHV0U2NoZW1hJztcblxuaW1wb3J0IHsgRHJvcGRvd25NZW51SGVhZGVyTGVmdENvbXBvbmVudCB9IGZyb20gJ0AvdWkvbGF5b3V0L2Ryb3Bkb3duL2NvbXBvbmVudHMvRHJvcGRvd25NZW51SGVhZGVyL2ludGVybmFsL0Ryb3Bkb3duTWVudUhlYWRlckxlZnRDb21wb25lbnQnO1xuaW1wb3J0IHsgYWN0aXZlVGFiSWRDb21wb25lbnRTdGF0ZSB9IGZyb20gJ0AvdWkvbGF5b3V0L3RhYi9zdGF0ZXMvYWN0aXZlVGFiSWRDb21wb25lbnRTdGF0ZSc7XG5pbXBvcnQgeyB1c2VTZXRSZWNvaWxDb21wb25lbnRTdGF0ZVYyIH0gZnJvbSAnQC91aS91dGlsaXRpZXMvc3RhdGUvY29tcG9uZW50LXN0YXRlL2hvb2tzL3VzZVNldFJlY29pbENvbXBvbmVudFN0YXRlVjInO1xuaW1wb3J0IHsgd29ya2Zsb3dEaWFncmFtVHJpZ2dlck5vZGVTZWxlY3Rpb25TdGF0ZSB9IGZyb20gJ0Avd29ya2Zsb3cvd29ya2Zsb3ctZGlhZ3JhbS9zdGF0ZXMvd29ya2Zsb3dEaWFncmFtVHJpZ2dlck5vZGVTZWxlY3Rpb25TdGF0ZSc7XG5pbXBvcnQgeyB3b3JrZmxvd1NlbGVjdGVkTm9kZVN0YXRlIH0gZnJvbSAnQC93b3JrZmxvdy93b3JrZmxvdy1kaWFncmFtL3N0YXRlcy93b3JrZmxvd1NlbGVjdGVkTm9kZVN0YXRlJztcbmltcG9ydCB7IGdldEN1cnJlbnRTdWJTdGVwRnJvbVBhdGggfSBmcm9tICdAL3dvcmtmbG93L3dvcmtmbG93LXZhcmlhYmxlcy91dGlscy9nZXRDdXJyZW50U3ViU3RlcEZyb21QYXRoJztcbmltcG9ydCB7IGdldFN0ZXBIZWFkZXJMYWJlbCB9IGZyb20gJ0Avd29ya2Zsb3cvd29ya2Zsb3ctdmFyaWFibGVzL3V0aWxzL2dldFN0ZXBIZWFkZXJMYWJlbCc7XG5pbXBvcnQgeyBpc0xpbmtPdXRwdXRTY2hlbWEgfSBmcm9tICdAL3dvcmtmbG93L3dvcmtmbG93LXZhcmlhYmxlcy91dGlscy9pc0xpbmtPdXRwdXRTY2hlbWEnO1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VTZXRSZWNvaWxTdGF0ZSB9IGZyb20gJ3JlY29pbCc7XG5pbXBvcnQge1xuICBJY29uQ2hldnJvbkxlZnQsXG4gIE1lbnVJdGVtU2VsZWN0LFxuICBPdmVyZmxvd2luZ1RleHRXaXRoVG9vbHRpcCxcbiAgdXNlSWNvbnMsXG59IGZyb20gJ3R3ZW50eS11aSc7XG5pbXBvcnQgeyBpc0RlZmluZWQgfSBmcm9tICd0d2VudHktc2hhcmVkL3V0aWxzJztcblxudHlwZSBXb3JrZmxvd1ZhcmlhYmxlc0Ryb3Bkb3duRmllbGRJdGVtc1Byb3BzID0ge1xuICBzdGVwOiBTdGVwT3V0cHV0U2NoZW1hO1xuICBvblNlbGVjdDogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uQmFjazogKCkgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCBjb25zdCBXb3JrZmxvd1ZhcmlhYmxlc0Ryb3Bkb3duRmllbGRJdGVtcyA9ICh7XG4gIHN0ZXAsXG4gIG9uU2VsZWN0LFxuICBvbkJhY2ssXG59OiBXb3JrZmxvd1ZhcmlhYmxlc0Ryb3Bkb3duRmllbGRJdGVtc1Byb3BzKSA9PiB7XG4gIGNvbnN0IFtjdXJyZW50UGF0aCwgc2V0Q3VycmVudFBhdGhdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW3NlYXJjaElucHV0VmFsdWUsIHNldFNlYXJjaElucHV0VmFsdWVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCB7IGdldEljb24gfSA9IHVzZUljb25zKCk7XG4gIGNvbnN0IHNldFdvcmtmbG93U2VsZWN0ZWROb2RlID0gdXNlU2V0UmVjb2lsU3RhdGUod29ya2Zsb3dTZWxlY3RlZE5vZGVTdGF0ZSk7XG4gIGNvbnN0IHNldEFjdGl2ZVRhYklkID0gdXNlU2V0UmVjb2lsQ29tcG9uZW50U3RhdGVWMihcbiAgICBhY3RpdmVUYWJJZENvbXBvbmVudFN0YXRlLFxuICAgICd3b3JrZmxvdy1zZXJ2ZXJsZXNzLWZ1bmN0aW9uLXRhYi1saXN0LWNvbXBvbmVudC1pZCcsXG4gICk7XG4gIGNvbnN0IHNldFdvcmtmbG93RGlhZ3JhbVRyaWdnZXJOb2RlU2VsZWN0aW9uID0gdXNlU2V0UmVjb2lsU3RhdGUoXG4gICAgd29ya2Zsb3dEaWFncmFtVHJpZ2dlck5vZGVTZWxlY3Rpb25TdGF0ZSxcbiAgKTtcblxuICBjb25zdCBnZXREaXNwbGF5ZWRTdWJTdGVwRmllbGRzID0gKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRTdWJTdGVwID0gZ2V0Q3VycmVudFN1YlN0ZXBGcm9tUGF0aChzdGVwLCBjdXJyZW50UGF0aCk7XG5cbiAgICBpZiAoaXNMaW5rT3V0cHV0U2NoZW1hKGN1cnJlbnRTdWJTdGVwKSkge1xuICAgICAgcmV0dXJuIHsgbGluazogY3VycmVudFN1YlN0ZXAubGluayB9O1xuICAgIH0gZWxzZSBpZiAoaXNSZWNvcmRPdXRwdXRTY2hlbWEoY3VycmVudFN1YlN0ZXApKSB7XG4gICAgICByZXR1cm4gY3VycmVudFN1YlN0ZXAuZmllbGRzO1xuICAgIH0gZWxzZSBpZiAoaXNCYXNlT3V0cHV0U2NoZW1hKGN1cnJlbnRTdWJTdGVwKSkge1xuICAgICAgcmV0dXJuIGN1cnJlbnRTdWJTdGVwO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZWxlY3RGaWVsZCA9IChrZXk6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRTdWJTdGVwID0gZ2V0Q3VycmVudFN1YlN0ZXBGcm9tUGF0aChzdGVwLCBjdXJyZW50UGF0aCk7XG5cbiAgICBjb25zdCBoYW5kbGVTZWxlY3RCYXNlT3V0cHV0U2NoZW1hID0gKFxuICAgICAgYmFzZU91dHB1dFNjaGVtYTogQmFzZU91dHB1dFNjaGVtYSxcbiAgICApID0+IHtcbiAgICAgIGlmICghYmFzZU91dHB1dFNjaGVtYVtrZXldPy5pc0xlYWYpIHtcbiAgICAgICAgc2V0Q3VycmVudFBhdGgoWy4uLmN1cnJlbnRQYXRoLCBrZXldKTtcbiAgICAgICAgc2V0U2VhcmNoSW5wdXRWYWx1ZSgnJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblNlbGVjdChge3ske3N0ZXAuaWR9LiR7Wy4uLmN1cnJlbnRQYXRoLCBrZXldLmpvaW4oJy4nKX19fWApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVTZWxlY3RMaW5rT3V0cHV0U2NoZW1hID0gKFxuICAgICAgbGlua091dHB1dFNjaGVtYTogTGlua091dHB1dFNjaGVtYSxcbiAgICApID0+IHtcbiAgICAgIHNldFdvcmtmbG93U2VsZWN0ZWROb2RlKHN0ZXAuaWQpO1xuICAgICAgc2V0V29ya2Zsb3dEaWFncmFtVHJpZ2dlck5vZGVTZWxlY3Rpb24oc3RlcC5pZCk7XG4gICAgICBpZiAoaXNEZWZpbmVkKGxpbmtPdXRwdXRTY2hlbWEubGluay50YWIpKSB7XG4gICAgICAgIHNldEFjdGl2ZVRhYklkKGxpbmtPdXRwdXRTY2hlbWEubGluay50YWIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoaXNMaW5rT3V0cHV0U2NoZW1hKGN1cnJlbnRTdWJTdGVwKSkge1xuICAgICAgaGFuZGxlU2VsZWN0TGlua091dHB1dFNjaGVtYShjdXJyZW50U3ViU3RlcCk7XG4gICAgfSBlbHNlIGlmIChpc1JlY29yZE91dHB1dFNjaGVtYShjdXJyZW50U3ViU3RlcCkpIHtcbiAgICAgIGhhbmRsZVNlbGVjdEJhc2VPdXRwdXRTY2hlbWEoY3VycmVudFN1YlN0ZXAuZmllbGRzKTtcbiAgICB9IGVsc2UgaWYgKGlzQmFzZU91dHB1dFNjaGVtYShjdXJyZW50U3ViU3RlcCkpIHtcbiAgICAgIGhhbmRsZVNlbGVjdEJhc2VPdXRwdXRTY2hlbWEoY3VycmVudFN1YlN0ZXApO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBnb0JhY2sgPSAoKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRQYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgb25CYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEN1cnJlbnRQYXRoKGN1cnJlbnRQYXRoLnNsaWNlKDAsIC0xKSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGRpc3BsYXllZE9iamVjdCA9IGdldERpc3BsYXllZFN1YlN0ZXBGaWVsZHMoKTtcbiAgY29uc3Qgb3B0aW9ucyA9IGRpc3BsYXllZE9iamVjdCA/IE9iamVjdC5lbnRyaWVzKGRpc3BsYXllZE9iamVjdCkgOiBbXTtcblxuICBjb25zdCBmaWx0ZXJlZE9wdGlvbnMgPSBzZWFyY2hJbnB1dFZhbHVlXG4gICAgPyBvcHRpb25zLmZpbHRlcihcbiAgICAgICAgKFtfLCB2YWx1ZV0pID0+XG4gICAgICAgICAgdmFsdWUubGFiZWwgJiZcbiAgICAgICAgICB2YWx1ZS5sYWJlbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaElucHV0VmFsdWUudG9Mb3dlckNhc2UoKSksXG4gICAgICApXG4gICAgOiBvcHRpb25zO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxEcm9wZG93bk1lbnVIZWFkZXJcbiAgICAgICAgU3RhcnRDb21wb25lbnQ9e1xuICAgICAgICAgIDxEcm9wZG93bk1lbnVIZWFkZXJMZWZ0Q29tcG9uZW50XG4gICAgICAgICAgICBvbkNsaWNrPXtnb0JhY2t9XG4gICAgICAgICAgICBJY29uPXtJY29uQ2hldnJvbkxlZnR9XG4gICAgICAgICAgLz5cbiAgICAgICAgfVxuICAgICAgICBzdHlsZT17eyBwb3NpdGlvbjogJ2ZpeGVkJyB9fVxuICAgICAgPlxuICAgICAgICA8T3ZlcmZsb3dpbmdUZXh0V2l0aFRvb2x0aXBcbiAgICAgICAgICB0ZXh0PXtnZXRTdGVwSGVhZGVyTGFiZWwoc3RlcCwgY3VycmVudFBhdGgpfVxuICAgICAgICAvPlxuICAgICAgPC9Ecm9wZG93bk1lbnVIZWFkZXI+XG4gICAgICA8RHJvcGRvd25NZW51U2VhcmNoSW5wdXRcbiAgICAgICAgYXV0b0ZvY3VzXG4gICAgICAgIHZhbHVlPXtzZWFyY2hJbnB1dFZhbHVlfVxuICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiBzZXRTZWFyY2hJbnB1dFZhbHVlKGV2ZW50LnRhcmdldC52YWx1ZSl9XG4gICAgICAvPlxuICAgICAgPERyb3Bkb3duTWVudVNlcGFyYXRvciAvPlxuICAgICAgPERyb3Bkb3duTWVudUl0ZW1zQ29udGFpbmVyPlxuICAgICAgICB7ZmlsdGVyZWRPcHRpb25zLm1hcCgoW2tleSwgc3ViU3RlcF0pID0+IChcbiAgICAgICAgICA8TWVudUl0ZW1TZWxlY3RcbiAgICAgICAgICAgIGtleT17a2V5fVxuICAgICAgICAgICAgc2VsZWN0ZWQ9e2ZhbHNlfVxuICAgICAgICAgICAgaG92ZXJlZD17ZmFsc2V9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTZWxlY3RGaWVsZChrZXkpfVxuICAgICAgICAgICAgdGV4dD17c3ViU3RlcC5sYWJlbCB8fCBrZXl9XG4gICAgICAgICAgICBoYXNTdWJNZW51PXshc3ViU3RlcC5pc0xlYWZ9XG4gICAgICAgICAgICBMZWZ0SWNvbj17c3ViU3RlcC5pY29uID8gZ2V0SWNvbihzdWJTdGVwLmljb24pIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgY29udGV4dHVhbFRleHQ9e1xuICAgICAgICAgICAgICBzdWJTdGVwLmlzTGVhZiA/IHN1YlN0ZXA/LnZhbHVlPy50b1N0cmluZygpIDogdW5kZWZpbmVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICA8L0Ryb3Bkb3duTWVudUl0ZW1zQ29udGFpbmVyPlxuICAgIDwvPlxuICApO1xufTtcbiJdLCJuYW1lcyI6WyJEcm9wZG93bk1lbnVIZWFkZXIiLCJEcm9wZG93bk1lbnVJdGVtc0NvbnRhaW5lciIsIkRyb3Bkb3duTWVudVNlYXJjaElucHV0IiwiRHJvcGRvd25NZW51U2VwYXJhdG9yIiwiaXNCYXNlT3V0cHV0U2NoZW1hIiwiaXNSZWNvcmRPdXRwdXRTY2hlbWEiLCJEcm9wZG93bk1lbnVIZWFkZXJMZWZ0Q29tcG9uZW50IiwiYWN0aXZlVGFiSWRDb21wb25lbnRTdGF0ZSIsInVzZVNldFJlY29pbENvbXBvbmVudFN0YXRlVjIiLCJ3b3JrZmxvd0RpYWdyYW1UcmlnZ2VyTm9kZVNlbGVjdGlvblN0YXRlIiwid29ya2Zsb3dTZWxlY3RlZE5vZGVTdGF0ZSIsImdldEN1cnJlbnRTdWJTdGVwRnJvbVBhdGgiLCJnZXRTdGVwSGVhZGVyTGFiZWwiLCJpc0xpbmtPdXRwdXRTY2hlbWEiLCJ1c2VTdGF0ZSIsInVzZVNldFJlY29pbFN0YXRlIiwiSWNvbkNoZXZyb25MZWZ0IiwiTWVudUl0ZW1TZWxlY3QiLCJPdmVyZmxvd2luZ1RleHRXaXRoVG9vbHRpcCIsInVzZUljb25zIiwiaXNEZWZpbmVkIiwiV29ya2Zsb3dWYXJpYWJsZXNEcm9wZG93bkZpZWxkSXRlbXMiLCJzdGVwIiwib25TZWxlY3QiLCJvbkJhY2siLCJjdXJyZW50UGF0aCIsInNldEN1cnJlbnRQYXRoIiwic2VhcmNoSW5wdXRWYWx1ZSIsInNldFNlYXJjaElucHV0VmFsdWUiLCJnZXRJY29uIiwic2V0V29ya2Zsb3dTZWxlY3RlZE5vZGUiLCJzZXRBY3RpdmVUYWJJZCIsInNldFdvcmtmbG93RGlhZ3JhbVRyaWdnZXJOb2RlU2VsZWN0aW9uIiwiZ2V0RGlzcGxheWVkU3ViU3RlcEZpZWxkcyIsImN1cnJlbnRTdWJTdGVwIiwibGluayIsImZpZWxkcyIsImhhbmRsZVNlbGVjdEZpZWxkIiwia2V5IiwiaGFuZGxlU2VsZWN0QmFzZU91dHB1dFNjaGVtYSIsImJhc2VPdXRwdXRTY2hlbWEiLCJpc0xlYWYiLCJpZCIsImpvaW4iLCJoYW5kbGVTZWxlY3RMaW5rT3V0cHV0U2NoZW1hIiwibGlua091dHB1dFNjaGVtYSIsInRhYiIsImdvQmFjayIsImxlbmd0aCIsInNsaWNlIiwiZGlzcGxheWVkT2JqZWN0Iiwib3B0aW9ucyIsIk9iamVjdCIsImVudHJpZXMiLCJmaWx0ZXJlZE9wdGlvbnMiLCJmaWx0ZXIiLCJfIiwidmFsdWUiLCJsYWJlbCIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJTdGFydENvbXBvbmVudCIsIm9uQ2xpY2siLCJJY29uIiwic3R5bGUiLCJwb3NpdGlvbiIsInRleHQiLCJhdXRvRm9jdXMiLCJvbkNoYW5nZSIsImV2ZW50IiwidGFyZ2V0IiwibWFwIiwic3ViU3RlcCIsInNlbGVjdGVkIiwiaG92ZXJlZCIsImhhc1N1Yk1lbnUiLCJMZWZ0SWNvbiIsImljb24iLCJ1bmRlZmluZWQiLCJjb250ZXh0dWFsVGV4dCIsInRvU3RyaW5nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsU0FBU0Esa0JBQWtCLFFBQVEsd0VBQXdFO0FBQzNHLFNBQVNDLDBCQUEwQixRQUFRLDZEQUE2RDtBQUN4RyxTQUFTQyx1QkFBdUIsUUFBUSwwREFBMEQ7QUFDbEcsU0FBU0MscUJBQXFCLFFBQVEsd0RBQXdEO0FBTTlGLFNBQVNDLGtCQUFrQixRQUFRLHlEQUF5RDtBQUM1RixTQUFTQyxvQkFBb0IsUUFBUSwyREFBMkQ7QUFFaEcsU0FBU0MsK0JBQStCLFFBQVEsOEZBQThGO0FBQzlJLFNBQVNDLHlCQUF5QixRQUFRLG1EQUFtRDtBQUM3RixTQUFTQyw0QkFBNEIsUUFBUSwwRUFBMEU7QUFDdkgsU0FBU0Msd0NBQXdDLFFBQVEsOEVBQThFO0FBQ3ZJLFNBQVNDLHlCQUF5QixRQUFRLCtEQUErRDtBQUN6RyxTQUFTQyx5QkFBeUIsUUFBUSxnRUFBZ0U7QUFDMUcsU0FBU0Msa0JBQWtCLFFBQVEseURBQXlEO0FBQzVGLFNBQVNDLGtCQUFrQixRQUFRLHlEQUF5RDtBQUM1RixTQUFTQyxRQUFRLFFBQVEsUUFBUTtBQUNqQyxTQUFTQyxpQkFBaUIsUUFBUSxTQUFTO0FBQzNDLFNBQ0VDLGVBQWUsRUFDZkMsY0FBYyxFQUNkQywwQkFBMEIsRUFDMUJDLFFBQVEsUUFDSCxZQUFZO0FBQ25CLFNBQVNDLFNBQVMsUUFBUSxzQkFBc0I7QUFRaEQsT0FBTyxNQUFNQyxzQ0FBc0MsQ0FBQyxFQUNsREMsSUFBSSxFQUNKQyxRQUFRLEVBQ1JDLE1BQU0sRUFDbUM7O0lBQ3pDLE1BQU0sQ0FBQ0MsYUFBYUMsZUFBZSxHQUFHWixTQUFtQixFQUFFO0lBQzNELE1BQU0sQ0FBQ2Esa0JBQWtCQyxvQkFBb0IsR0FBR2QsU0FBUztJQUN6RCxNQUFNLEVBQUVlLE9BQU8sRUFB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