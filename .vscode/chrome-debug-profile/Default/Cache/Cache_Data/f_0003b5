import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/modules/action-menu/actions/record-actions/multiple-records/hooks/useDestroyMultipleRecordsAction.tsx");if (!window.$RefreshReg$) throw new Error("React refresh preamble was not loaded. Something is wrong.");
const prevRefreshReg = window.$RefreshReg$;
const prevRefreshSig = window.$RefreshSig$;
window.$RefreshReg$ = RefreshRuntime.getRefreshReg("D:/twenty-table-o/packages/twenty-front/src/modules/action-menu/actions/record-actions/multiple-records/hooks/useDestroyMultipleRecordsAction.tsx");
window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;

import * as RefreshRuntime from "/@react-refresh";

import { jsxDEV as _jsxDEV } from "/@fs/D:/twenty-table-o/node_modules/.vite/packages/twenty-front/deps/@emotion_react_jsx-dev-runtime.js?v=226f7286";
var _s = $RefreshSig$();
import { contextStoreCurrentViewIdComponentState } from "/src/modules/context-store/states/contextStoreCurrentViewIdComponentState.ts";
import { contextStoreFiltersComponentState } from "/src/modules/context-store/states/contextStoreFiltersComponentState.ts";
import { contextStoreNumberOfSelectedRecordsComponentState } from "/src/modules/context-store/states/contextStoreNumberOfSelectedRecordsComponentState.ts";
import { contextStoreTargetedRecordsRuleComponentState } from "/src/modules/context-store/states/contextStoreTargetedRecordsRuleComponentState.ts";
import { computeContextStoreFilters } from "/src/modules/context-store/utils/computeContextStoreFilters.ts";
import { BACKEND_BATCH_REQUEST_MAX_COUNT } from "/src/modules/object-record/constants/BackendBatchRequestMaxCount.ts";
import { DEFAULT_QUERY_PAGE_SIZE } from "/src/modules/object-record/constants/DefaultQueryPageSize.ts";
import { useDestroyManyRecords } from "/src/modules/object-record/hooks/useDestroyManyRecords.ts";
import { useLazyFetchAllRecords } from "/src/modules/object-record/hooks/useLazyFetchAllRecords.ts";
import { useFilterValueDependencies } from "/src/modules/object-record/record-filter/hooks/useFilterValueDependencies.ts";
import { RecordFilterOperand } from "/src/modules/object-record/record-filter/types/RecordFilterOperand.ts";
import { useRecordTable } from "/src/modules/object-record/record-table/hooks/useRecordTable.ts";
import { getRecordIndexIdFromObjectNamePluralAndViewId } from "/src/modules/object-record/utils/getRecordIndexIdFromObjectNamePluralAndViewId.ts";
import { useHasObjectReadOnlyPermission } from "/src/modules/settings/roles/hooks/useHasObjectReadOnlyPermission.ts";
import { ConfirmationModal } from "/src/modules/ui/layout/modal/components/ConfirmationModal.tsx";
import { useRecoilComponentValueV2 } from "/src/modules/ui/utilities/state/component-state/hooks/useRecoilComponentValueV2.ts";
import __vite__cjsImport18_react from "/@fs/D:/twenty-table-o/node_modules/.vite/packages/twenty-front/deps/react.js?v=226f7286"; const useCallback = __vite__cjsImport18_react["useCallback"]; const useState = __vite__cjsImport18_react["useState"];
import { isDefined } from "/@fs/D:/twenty-table-o/packages/twenty-shared/utils/dist/twenty-shared-utils.esm.js";
export const useDestroyMultipleRecordsAction = ({ objectMetadataItem })=>{
    _s();
    const [isDestroyRecordsModalOpen, setIsDestroyRecordsModalOpen] = useState(false);
    const contextStoreCurrentViewId = useRecoilComponentValueV2(contextStoreCurrentViewIdComponentState);
    if (!contextStoreCurrentViewId) {
        throw new Error('Current view ID is not defined');
    }
    const { resetTableRowSelection } = useRecordTable({
        recordTableId: getRecordIndexIdFromObjectNamePluralAndViewId(objectMetadataItem.namePlural, contextStoreCurrentViewId)
    });
    const hasObjectReadOnlyPermission = useHasObjectReadOnlyPermission();
    const { destroyManyRecords } = useDestroyManyRecords({
        objectNameSingular: objectMetadataItem.nameSingular
    });
    const contextStoreNumberOfSelectedRecords = useRecoilComponentValueV2(contextStoreNumberOfSelectedRecordsComponentState);
    const contextStoreTargetedRecordsRule = useRecoilComponentValueV2(contextStoreTargetedRecordsRuleComponentState);
    const contextStoreFilters = useRecoilComponentValueV2(contextStoreFiltersComponentState);
    const { filterValueDependencies } = useFilterValueDependencies();
    const deletedAtFilter = {
        deletedAt: {
            is: 'NOT_NULL'
        }
    };
    const graphqlFilter = {
        ...computeContextStoreFilters(contextStoreTargetedRecordsRule, contextStoreFilters, objectMetadataItem, filterValueDependencies),
        ...deletedAtFilter
    };
    const deletedAtFieldMetadata = objectMetadataItem.fields.find((field)=>field.name === 'deletedAt');
    const isDeletedFilterActive = contextStoreFilters.some((filter)=>filter.fieldMetadataId === deletedAtFieldMetadata?.id && filter.operand === RecordFilterOperand.IsNotEmpty);
    const { fetchAllRecords: fetchAllRecordIds } = useLazyFetchAllRecords({
        objectNameSingular: objectMetadataItem.nameSingular,
        filter: graphqlFilter,
        limit: DEFAULT_QUERY_PAGE_SIZE,
        recordGqlFields: {
            id: true
        }
    });
    const handleDestroyClick = useCallback(async ()=>{
        const recordsToDestroy = await fetchAllRecordIds();
        const recordIdsToDestroy = recordsToDestroy.map((record)=>record.id);
        resetTableRowSelection();
        await destroyManyRecords({
            recordIdsToDestroy
        });
    }, [
        destroyManyRecords,
        fetchAllRecordIds,
        resetTableRowSelection
    ]);
    const isRemoteObject = objectMetadataItem.isRemote;
    const shouldBeRegistered = !hasObjectReadOnlyPermission && !isRemoteObject && isDeletedFilterActive && isDefined(contextStoreNumberOfSelectedRecords) && contextStoreNumberOfSelectedRecords < BACKEND_BATCH_REQUEST_MAX_COUNT && contextStoreNumberOfSelectedRecords > 0;
    const onClick = ()=>{
        if (!shouldBeRegistered) {
            return;
        }
        setIsDestroyRecordsModalOpen(true);
    };
    const confirmationModal = /*#__PURE__*/ _jsxDEV(ConfirmationModal, {
        isOpen: isDestroyRecordsModalOpen,
        setIsOpen: setIsDestroyRecordsModalOpen,
        title: 'Permanently Destroy Records',
        subtitle: "Are you sure you want to destroy these records? They won't be recoverable anymore.",
        onConfirmClick: handleDestroyClick,
        confirmButtonText: 'Destroy Records'
    }, void 0, false, {
        fileName: "D:/twenty-table-o/packages/twenty-front/src/modules/action-menu/actions/record-actions/multiple-records/hooks/useDestroyMultipleRecordsAction.tsx",
        lineNumber: 121,
        columnNumber: 7
    }, this);
    return {
        shouldBeRegistered,
        onClick,
        ConfirmationModal: confirmationModal
    };
};
_s(useDestroyMultipleRecordsAction, "Oc+l0GM7yqLhV5JfDJRStiLQsP0=", false, function() {
    return [
        useRecoilComponentValueV2,
        useRecordTable,
        useHasObjectReadOnlyPermission,
        useDestroyManyRecords,
        useRecoilComponentValueV2,
        useRecoilComponentValueV2,
        useRecoilComponentValueV2,
        useFilterValueDependencies,
        useLazyFetchAllRecords
    ];
});


window.$RefreshReg$ = prevRefreshReg;
window.$RefreshSig$ = prevRefreshSig;

RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
  RefreshRuntime.registerExportsForReactRefresh("D:/twenty-table-o/packages/twenty-front/src/modules/action-menu/actions/record-actions/multiple-records/hooks/useDestroyMultipleRecordsAction.tsx", currentExports);
  import.meta.hot.accept((nextExports) => {
    if (!nextExports) return;
    const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("D:/twenty-table-o/packages/twenty-front/src/modules/action-menu/actions/record-actions/multiple-records/hooks/useDestroyMultipleRecordsAction.tsx", currentExports, nextExports);
    if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
  });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZURlc3Ryb3lNdWx0aXBsZVJlY29yZHNBY3Rpb24udHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjdGlvbkhvb2tXaXRoT2JqZWN0TWV0YWRhdGFJdGVtIH0gZnJvbSAnQC9hY3Rpb24tbWVudS9hY3Rpb25zL3R5cGVzL0FjdGlvbkhvb2snO1xuaW1wb3J0IHsgY29udGV4dFN0b3JlQ3VycmVudFZpZXdJZENvbXBvbmVudFN0YXRlIH0gZnJvbSAnQC9jb250ZXh0LXN0b3JlL3N0YXRlcy9jb250ZXh0U3RvcmVDdXJyZW50Vmlld0lkQ29tcG9uZW50U3RhdGUnO1xuXG5pbXBvcnQgeyBjb250ZXh0U3RvcmVGaWx0ZXJzQ29tcG9uZW50U3RhdGUgfSBmcm9tICdAL2NvbnRleHQtc3RvcmUvc3RhdGVzL2NvbnRleHRTdG9yZUZpbHRlcnNDb21wb25lbnRTdGF0ZSc7XG5pbXBvcnQgeyBjb250ZXh0U3RvcmVOdW1iZXJPZlNlbGVjdGVkUmVjb3Jkc0NvbXBvbmVudFN0YXRlIH0gZnJvbSAnQC9jb250ZXh0LXN0b3JlL3N0YXRlcy9jb250ZXh0U3RvcmVOdW1iZXJPZlNlbGVjdGVkUmVjb3Jkc0NvbXBvbmVudFN0YXRlJztcbmltcG9ydCB7IGNvbnRleHRTdG9yZVRhcmdldGVkUmVjb3Jkc1J1bGVDb21wb25lbnRTdGF0ZSB9IGZyb20gJ0AvY29udGV4dC1zdG9yZS9zdGF0ZXMvY29udGV4dFN0b3JlVGFyZ2V0ZWRSZWNvcmRzUnVsZUNvbXBvbmVudFN0YXRlJztcbmltcG9ydCB7IGNvbXB1dGVDb250ZXh0U3RvcmVGaWx0ZXJzIH0gZnJvbSAnQC9jb250ZXh0LXN0b3JlL3V0aWxzL2NvbXB1dGVDb250ZXh0U3RvcmVGaWx0ZXJzJztcbmltcG9ydCB7IEJBQ0tFTkRfQkFUQ0hfUkVRVUVTVF9NQVhfQ09VTlQgfSBmcm9tICdAL29iamVjdC1yZWNvcmQvY29uc3RhbnRzL0JhY2tlbmRCYXRjaFJlcXVlc3RNYXhDb3VudCc7XG5pbXBvcnQgeyBERUZBVUxUX1FVRVJZX1BBR0VfU0laRSB9IGZyb20gJ0Avb2JqZWN0LXJlY29yZC9jb25zdGFudHMvRGVmYXVsdFF1ZXJ5UGFnZVNpemUnO1xuaW1wb3J0IHsgUmVjb3JkR3FsT3BlcmF0aW9uRmlsdGVyIH0gZnJvbSAnQC9vYmplY3QtcmVjb3JkL2dyYXBocWwvdHlwZXMvUmVjb3JkR3FsT3BlcmF0aW9uRmlsdGVyJztcbmltcG9ydCB7IHVzZURlc3Ryb3lNYW55UmVjb3JkcyB9IGZyb20gJ0Avb2JqZWN0LXJlY29yZC9ob29rcy91c2VEZXN0cm95TWFueVJlY29yZHMnO1xuaW1wb3J0IHsgdXNlTGF6eUZldGNoQWxsUmVjb3JkcyB9IGZyb20gJ0Avb2JqZWN0LXJlY29yZC9ob29rcy91c2VMYXp5RmV0Y2hBbGxSZWNvcmRzJztcbmltcG9ydCB7IHVzZUZpbHRlclZhbHVlRGVwZW5kZW5jaWVzIH0gZnJvbSAnQC9vYmplY3QtcmVjb3JkL3JlY29yZC1maWx0ZXIvaG9va3MvdXNlRmlsdGVyVmFsdWVEZXBlbmRlbmNpZXMnO1xuaW1wb3J0IHsgUmVjb3JkRmlsdGVyT3BlcmFuZCB9IGZyb20gJ0Avb2JqZWN0LXJlY29yZC9yZWNvcmQtZmlsdGVyL3R5cGVzL1JlY29yZEZpbHRlck9wZXJhbmQnO1xuaW1wb3J0IHsgdXNlUmVjb3JkVGFibGUgfSBmcm9tICdAL29iamVjdC1yZWNvcmQvcmVjb3JkLXRhYmxlL2hvb2tzL3VzZVJlY29yZFRhYmxlJztcbmltcG9ydCB7IGdldFJlY29yZEluZGV4SWRGcm9tT2JqZWN0TmFtZVBsdXJhbEFuZFZpZXdJZCB9IGZyb20gJ0Avb2JqZWN0LXJlY29yZC91dGlscy9nZXRSZWNvcmRJbmRleElkRnJvbU9iamVjdE5hbWVQbHVyYWxBbmRWaWV3SWQnO1xuaW1wb3J0IHsgdXNlSGFzT2JqZWN0UmVhZE9ubHlQZXJtaXNzaW9uIH0gZnJvbSAnQC9zZXR0aW5ncy9yb2xlcy9ob29rcy91c2VIYXNPYmplY3RSZWFkT25seVBlcm1pc3Npb24nO1xuaW1wb3J0IHsgQ29uZmlybWF0aW9uTW9kYWwgfSBmcm9tICdAL3VpL2xheW91dC9tb2RhbC9jb21wb25lbnRzL0NvbmZpcm1hdGlvbk1vZGFsJztcbmltcG9ydCB7IHVzZVJlY29pbENvbXBvbmVudFZhbHVlVjIgfSBmcm9tICdAL3VpL3V0aWxpdGllcy9zdGF0ZS9jb21wb25lbnQtc3RhdGUvaG9va3MvdXNlUmVjb2lsQ29tcG9uZW50VmFsdWVWMic7XG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpc0RlZmluZWQgfSBmcm9tICd0d2VudHktc2hhcmVkL3V0aWxzJztcblxuZXhwb3J0IGNvbnN0IHVzZURlc3Ryb3lNdWx0aXBsZVJlY29yZHNBY3Rpb246IEFjdGlvbkhvb2tXaXRoT2JqZWN0TWV0YWRhdGFJdGVtID1cbiAgKHsgb2JqZWN0TWV0YWRhdGFJdGVtIH0pID0+IHtcbiAgICBjb25zdCBbaXNEZXN0cm95UmVjb3Jkc01vZGFsT3Blbiwgc2V0SXNEZXN0cm95UmVjb3Jkc01vZGFsT3Blbl0gPVxuICAgICAgdXNlU3RhdGUoZmFsc2UpO1xuXG4gICAgY29uc3QgY29udGV4dFN0b3JlQ3VycmVudFZpZXdJZCA9IHVzZVJlY29pbENvbXBvbmVudFZhbHVlVjIoXG4gICAgICBjb250ZXh0U3RvcmVDdXJyZW50Vmlld0lkQ29tcG9uZW50U3RhdGUsXG4gICAgKTtcblxuICAgIGlmICghY29udGV4dFN0b3JlQ3VycmVudFZpZXdJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDdXJyZW50IHZpZXcgSUQgaXMgbm90IGRlZmluZWQnKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IHJlc2V0VGFibGVSb3dTZWxlY3Rpb24gfSA9IHVzZVJlY29yZFRhYmxlKHtcbiAgICAgIHJlY29yZFRhYmxlSWQ6IGdldFJlY29yZEluZGV4SWRGcm9tT2JqZWN0TmFtZVBsdXJhbEFuZFZpZXdJZChcbiAgICAgICAgb2JqZWN0TWV0YWRhdGFJdGVtLm5hbWVQbHVyYWwsXG4gICAgICAgIGNvbnRleHRTdG9yZUN1cnJlbnRWaWV3SWQsXG4gICAgICApLFxuICAgIH0pO1xuXG4gICAgY29uc3QgaGFzT2JqZWN0UmVhZE9ubHlQZXJtaXNzaW9uID0gdXNlSGFzT2JqZWN0UmVhZE9ubHlQZXJtaXNzaW9uKCk7XG5cbiAgICBjb25zdCB7IGRlc3Ryb3lNYW55UmVjb3JkcyB9ID0gdXNlRGVzdHJveU1hbnlSZWNvcmRzKHtcbiAgICAgIG9iamVjdE5hbWVTaW5ndWxhcjogb2JqZWN0TWV0YWRhdGFJdGVtLm5hbWVTaW5ndWxhcixcbiAgICB9KTtcblxuICAgIGNvbnN0IGNvbnRleHRTdG9yZU51bWJlck9mU2VsZWN0ZWRSZWNvcmRzID0gdXNlUmVjb2lsQ29tcG9uZW50VmFsdWVWMihcbiAgICAgIGNvbnRleHRTdG9yZU51bWJlck9mU2VsZWN0ZWRSZWNvcmRzQ29tcG9uZW50U3RhdGUsXG4gICAgKTtcblxuICAgIGNvbnN0IGNvbnRleHRTdG9yZVRhcmdldGVkUmVjb3Jkc1J1bGUgPSB1c2VSZWNvaWxDb21wb25lbnRWYWx1ZVYyKFxuICAgICAgY29udGV4dFN0b3JlVGFyZ2V0ZWRSZWNvcmRzUnVsZUNvbXBvbmVudFN0YXRlLFxuICAgICk7XG5cbiAgICBjb25zdCBjb250ZXh0U3RvcmVGaWx0ZXJzID0gdXNlUmVjb2lsQ29tcG9uZW50VmFsdWVWMihcbiAgICAgIGNvbnRleHRTdG9yZUZpbHRlcnNDb21wb25lbnRTdGF0ZSxcbiAgICApO1xuXG4gICAgY29uc3QgeyBmaWx0ZXJWYWx1ZURlcGVuZGVuY2llcyB9ID0gdXNlRmlsdGVyVmFsdWVEZXBlbmRlbmNpZXMoKTtcblxuICAgIGNvbnN0IGRlbGV0ZWRBdEZpbHRlcjogUmVjb3JkR3FsT3BlcmF0aW9uRmlsdGVyID0ge1xuICAgICAgZGVsZXRlZEF0OiB7IGlzOiAnTk9UX05VTEwnIH0sXG4gICAgfTtcbiAgICBjb25zdCBncmFwaHFsRmlsdGVyID0ge1xuICAgICAgLi4uY29tcHV0ZUNvbnRleHRTdG9yZUZpbHRlcnMoXG4gICAgICAgIGNvbnRleHRTdG9yZVRhcmdldGVkUmVjb3Jkc1J1bGUsXG4gICAgICAgIGNvbnRleHRTdG9yZUZpbHRlcnMsXG4gICAgICAgIG9iamVjdE1ldGFkYXRhSXRlbSxcbiAgICAgICAgZmlsdGVyVmFsdWVEZXBlbmRlbmNpZXMsXG4gICAgICApLFxuICAgICAgLi4uZGVsZXRlZEF0RmlsdGVyLFxuICAgIH07XG5cbiAgICBjb25zdCBkZWxldGVkQXRGaWVsZE1ldGFkYXRhID0gb2JqZWN0TWV0YWRhdGFJdGVtLmZpZWxkcy5maW5kKFxuICAgICAgKGZpZWxkKSA9PiBmaWVsZC5uYW1lID09PSAnZGVsZXRlZEF0JyxcbiAgICApO1xuXG4gICAgY29uc3QgaXNEZWxldGVkRmlsdGVyQWN0aXZlID0gY29udGV4dFN0b3JlRmlsdGVycy5zb21lKFxuICAgICAgKGZpbHRlcikgPT5cbiAgICAgICAgZmlsdGVyLmZpZWxkTWV0YWRhdGFJZCA9PT0gZGVsZXRlZEF0RmllbGRNZXRhZGF0YT8uaWQgJiZcbiAgICAgICAgZmlsdGVyLm9wZXJhbmQgPT09IFJlY29yZEZpbHRlck9wZXJhbmQuSXNOb3RFbXB0eSxcbiAgICApO1xuXG4gICAgY29uc3QgeyBmZXRjaEFsbFJlY29yZHM6IGZldGNoQWxsUmVjb3JkSWRzIH0gPSB1c2VMYXp5RmV0Y2hBbGxSZWNvcmRzKHtcbiAgICAgIG9iamVjdE5hbWVTaW5ndWxhcjogb2JqZWN0TWV0YWRhdGFJdGVtLm5hbWVTaW5ndWxhcixcbiAgICAgIGZpbHRlcjogZ3JhcGhxbEZpbHRlcixcbiAgICAgIGxpbWl0OiBERUZBVUxUX1FVRVJZX1BBR0VfU0laRSxcbiAgICAgIHJlY29yZEdxbEZpZWxkczogeyBpZDogdHJ1ZSB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgaGFuZGxlRGVzdHJveUNsaWNrID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVjb3Jkc1RvRGVzdHJveSA9IGF3YWl0IGZldGNoQWxsUmVjb3JkSWRzKCk7XG4gICAgICBjb25zdCByZWNvcmRJZHNUb0Rlc3Ryb3kgPSByZWNvcmRzVG9EZXN0cm95Lm1hcCgocmVjb3JkKSA9PiByZWNvcmQuaWQpO1xuXG4gICAgICByZXNldFRhYmxlUm93U2VsZWN0aW9uKCk7XG5cbiAgICAgIGF3YWl0IGRlc3Ryb3lNYW55UmVjb3Jkcyh7IHJlY29yZElkc1RvRGVzdHJveSB9KTtcbiAgICB9LCBbZGVzdHJveU1hbnlSZWNvcmRzLCBmZXRjaEFsbFJlY29yZElkcywgcmVzZXRUYWJsZVJvd1NlbGVjdGlvbl0pO1xuXG4gICAgY29uc3QgaXNSZW1vdGVPYmplY3QgPSBvYmplY3RNZXRhZGF0YUl0ZW0uaXNSZW1vdGU7XG5cbiAgICBjb25zdCBzaG91bGRCZVJlZ2lzdGVyZWQgPVxuICAgICAgIWhhc09iamVjdFJlYWRPbmx5UGVybWlzc2lvbiAmJlxuICAgICAgIWlzUmVtb3RlT2JqZWN0ICYmXG4gICAgICBpc0RlbGV0ZWRGaWx0ZXJBY3RpdmUgJiZcbiAgICAgIGlzRGVmaW5lZChjb250ZXh0U3RvcmVOdW1iZXJPZlNlbGVjdGVkUmVjb3JkcykgJiZcbiAgICAgIGNvbnRleHRTdG9yZU51bWJlck9mU2VsZWN0ZWRSZWNvcmRzIDwgQkFDS0VORF9CQVRDSF9SRVFVRVNUX01BWF9DT1VOVCAmJlxuICAgICAgY29udGV4dFN0b3JlTnVtYmVyT2ZTZWxlY3RlZFJlY29yZHMgPiAwO1xuXG4gICAgY29uc3Qgb25DbGljayA9ICgpID0+IHtcbiAgICAgIGlmICghc2hvdWxkQmVSZWdpc3RlcmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2V0SXNEZXN0cm95UmVjb3Jkc01vZGFsT3Blbih0cnVlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgY29uZmlybWF0aW9uTW9kYWwgPSAoXG4gICAgICA8Q29uZmlybWF0aW9uTW9kYWxcbiAgICAgICAgaXNPcGVuPXtpc0Rlc3Ryb3lSZWNvcmRzTW9kYWxPcGVufVxuICAgICAgICBzZXRJc09wZW49e3NldElzRGVzdHJveVJlY29yZHNNb2RhbE9wZW59XG4gICAgICAgIHRpdGxlPXsnUGVybWFuZW50bHkgRGVzdHJveSBSZWNvcmRzJ31cbiAgICAgICAgc3VidGl0bGU9e1xuICAgICAgICAgIFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlc3Ryb3kgdGhlc2UgcmVjb3Jkcz8gVGhleSB3b24ndCBiZSByZWNvdmVyYWJsZSBhbnltb3JlLlwiXG4gICAgICAgIH1cbiAgICAgICAgb25Db25maXJtQ2xpY2s9e2hhbmRsZURlc3Ryb3lDbGlja31cbiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ9eydEZXN0cm95IFJlY29yZHMnfVxuICAgICAgLz5cbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3VsZEJlUmVnaXN0ZXJlZCxcbiAgICAgIG9uQ2xpY2ssXG4gICAgICBDb25maXJtYXRpb25Nb2RhbDogY29uZmlybWF0aW9uTW9kYWwsXG4gICAgfTtcbiAgfTtcbiJdLCJuYW1lcyI6WyJjb250ZXh0U3RvcmVDdXJyZW50Vmlld0lkQ29tcG9uZW50U3RhdGUiLCJjb250ZXh0U3RvcmVGaWx0ZXJzQ29tcG9uZW50U3RhdGUiLCJjb250ZXh0U3RvcmVOdW1iZXJPZlNlbGVjdGVkUmVjb3Jkc0NvbXBvbmVudFN0YXRlIiwiY29udGV4dFN0b3JlVGFyZ2V0ZWRSZWNvcmRzUnVsZUNvbXBvbmVudFN0YXRlIiwiY29tcHV0ZUNvbnRleHRTdG9yZUZpbHRlcnMiLCJCQUNLRU5EX0JBVENIX1JFUVVFU1RfTUFYX0NPVU5UIiwiREVGQVVMVF9RVUVSWV9QQUdFX1NJWkUiLCJ1c2VEZXN0cm95TWFueVJlY29yZHMiLCJ1c2VMYXp5RmV0Y2hBbGxSZWNvcmRzIiwidXNlRmlsdGVyVmFsdWVEZXBlbmRlbmNpZXMiLCJSZWNvcmRGaWx0ZXJPcGVyYW5kIiwidXNlUmVjb3JkVGFibGUiLCJnZXRSZWNvcmRJbmRleElkRnJvbU9iamVjdE5hbWVQbHVyYWxBbmRWaWV3SWQiLCJ1c2VIYXNPYmplY3RSZWFkT25seVBlcm1pc3Npb24iLCJDb25maXJtYXRpb25Nb2RhbCIsInVzZVJlY29pbENvbXBvbmVudFZhbHVlVjIiLCJ1c2VDYWxsYmFjayIsInVzZVN0YXRlIiwiaXNEZWZpbmVkIiwidXNlRGVzdHJveU11bHRpcGxlUmVjb3Jkc0FjdGlvbiIsIm9iamVjdE1ldGFkYXRhSXRlbSIsImlzRGVzdHJveVJlY29yZHNNb2RhbE9wZW4iLCJzZXRJc0Rlc3Ryb3lSZWNvcmRzTW9kYWxPcGVuIiwiY29udGV4dFN0b3JlQ3VycmVudFZpZXdJZCIsIkVycm9yIiwicmVzZXRUYWJsZVJvd1NlbGVjdGlvbiIsInJlY29yZFRhYmxlSWQiLCJuYW1lUGx1cmFsIiwiaGFzT2JqZWN0UmVhZE9ubHlQZXJtaXNzaW9uIiwiZGVzdHJveU1hbnlSZWNvcmRzIiwib2JqZWN0TmFtZVNpbmd1bGFyIiwibmFtZVNpbmd1bGFyIiwiY29udGV4dFN0b3JlTnVtYmVyT2ZTZWxlY3RlZFJlY29yZHMiLCJjb250ZXh0U3RvcmVUYXJnZXRlZFJlY29yZHNSdWxlIiwiY29udGV4dFN0b3JlRmlsdGVycyIsImZpbHRlclZhbHVlRGVwZW5kZW5jaWVzIiwiZGVsZXRlZEF0RmlsdGVyIiwiZGVsZXRlZEF0IiwiaXMiLCJncmFwaHFsRmlsdGVyIiwiZGVsZXRlZEF0RmllbGRNZXRhZGF0YSIsImZpZWxkcyIsImZpbmQiLCJmaWVsZCIsIm5hbWUiLCJpc0RlbGV0ZWRGaWx0ZXJBY3RpdmUiLCJzb21lIiwiZmlsdGVyIiwiZmllbGRNZXRhZGF0YUlkIiwiaWQiLCJvcGVyYW5kIiwiSXNOb3RFbXB0eSIsImZldGNoQWxsUmVjb3JkcyIsImZldGNoQWxsUmVjb3JkSWRzIiwibGltaXQiLCJyZWNvcmRHcWxGaWVsZHMiLCJoYW5kbGVEZXN0cm95Q2xpY2siLCJyZWNvcmRzVG9EZXN0cm95IiwicmVjb3JkSWRzVG9EZXN0cm95IiwibWFwIiwicmVjb3JkIiwiaXNSZW1vdGVPYmplY3QiLCJpc1JlbW90ZSIsInNob3VsZEJlUmVnaXN0ZXJlZCIsIm9uQ2xpY2siLCJjb25maXJtYXRpb25Nb2RhbCIsImlzT3BlbiIsInNldElzT3BlbiIsInRpdGxlIiwic3VidGl0bGUiLCJvbkNvbmZpcm1DbGljayIsImNvbmZpcm1CdXR0b25UZXh0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ0EsU0FBU0EsdUNBQXVDLFFBQVEsaUVBQWlFO0FBRXpILFNBQVNDLGlDQUFpQyxRQUFRLDJEQUEyRDtBQUM3RyxTQUFTQyxpREFBaUQsUUFBUSwyRUFBMkU7QUFDN0ksU0FBU0MsNkNBQTZDLFFBQVEsdUVBQXVFO0FBQ3JJLFNBQVNDLDBCQUEwQixRQUFRLG1EQUFtRDtBQUM5RixTQUFTQywrQkFBK0IsUUFBUSx3REFBd0Q7QUFDeEcsU0FBU0MsdUJBQXVCLFFBQVEsaURBQWlEO0FBRXpGLFNBQVNDLHFCQUFxQixRQUFRLDhDQUE4QztBQUNwRixTQUFTQyxzQkFBc0IsUUFBUSwrQ0FBK0M7QUFDdEYsU0FBU0MsMEJBQTBCLFFBQVEsaUVBQWlFO0FBQzVHLFNBQVNDLG1CQUFtQixRQUFRLDBEQUEwRDtBQUM5RixTQUFTQyxjQUFjLFFBQVEsb0RBQW9EO0FBQ25GLFNBQVNDLDZDQUE2QyxRQUFRLHNFQUFzRTtBQUNwSSxTQUFTQyw4QkFBOEIsUUFBUSx3REFBd0Q7QUFDdkcsU0FBU0MsaUJBQWlCLFFBQVEsaURBQWlEO0FBQ25GLFNBQVNDLHlCQUF5QixRQUFRLHVFQUF1RTtBQUNqSCxTQUFTQyxXQUFXLEVBQUVDLFFBQVEsUUFBUSxRQUFRO0FBQzlDLFNBQVNDLFNBQVMsUUFBUSxzQkFBc0I7QUFFaEQsT0FBTyxNQUFNQyxrQ0FDWCxDQUFDLEVBQUVDLGtCQUFrQixFQUFFOztJQUNyQixNQUFNLENBQUNDLDJCQUEyQkMsNkJBQTZCLEdBQzdETCxTQUFTO0lBRVgsTUFBTU0sNEJBQTRCUiwwQkFDaENmO0lBR0YsSUFBSSxDQUFDdUIsMkJBQTJCO1FBQzlCLE1BQU0sSUFBSUMsTUFBTTtJQUNsQjtJQUVBLE1BQU0sRUFBRUMsc0JBQXNCLEVBQUUsR0FBR2QsZUFBZTtRQUNoRGUsZUFBZWQsOENBQ2JRLG1CQUFtQk8sVUFBVSxFQUM3Qko7SUFFSjtJQUVBLE1BQU1LLDhCQUE4QmY7SUFFcEMsTUFBTSxFQUFFZ0Isa0JBQWtCLEVBQUUsR0FBR3RCLHNCQUFzQjtRQUNuRHVCLG9CQUFvQlYsbUJBQW1CVyxZQUFZO0lBQ3JEO0lBRUEsTUFBTUMsc0NBQXNDakIsMEJBQzFDYjtJQUdGLE1BQU0rQixrQ0FBa0NsQiwwQkFDdENaO0lBR0YsTUFBTStCLHNCQUFzQm5CLDBCQUMxQmQ7SUFHRixNQUFNLEVBQUVrQyx1QkFBdUIsRUFBRSxHQUFHMUI7SUFFcEMsTUFBTTJCLGtCQUE0QztRQUNoREMsV0FBVztZQUFFQyxJQUFJO1FBQVc7SUFDOUI7SUFDQSxNQUFNQyxnQkFBZ0I7UUFDcEIsR0FBR25DLDJCQUNENkIsaUNBQ0FDLHFCQUNBZCxvQkFDQWUsd0JBQ0Q7UUFDRCxHQUFHQyxlQUFlO0lBQ3BCO0lBRUEsTUFBTUkseUJBQXlCcEIsbUJBQW1CcUIsTUFBTSxDQUFDQyxJQUFJLENBQzNELENBQUNDLFFBQVVBLE1BQU1DLElBQUksS0FBSztJQUc1QixNQUFNQyx3QkFBd0JYLG9CQUFvQlksSUFBSSxDQUNwRCxDQUFDQyxTQUNDQSxPQUFPQyxlQUFlLEtBQUtSLHdCQUF3QlMsTUFDbkRGLE9BQU9HLE9BQU8sS0FBS3hDLG9CQUFvQnlDLFVBQVU7SUFHckQsTUFBTSxFQUFFQyxpQkFBaUJDLGlCQUFpQixFQUFFLEdBQUc3Qyx1QkFBdUI7UUFDcEVzQixvQkFBb0JWLG1CQUFtQlcsWUFBWTtRQUNuRGdCLFFBQVFSO1FBQ1JlLE9BQU9oRDtRQUNQaUQsaUJBQWlCO1lBQUVOLElBQUk7UUFBSztJQUM5QjtJQUVBLE1BQU1PLHFCQUFxQnhDLFlBQVk7UUFDckMsTUFBTXlDLG1CQUFtQixNQUFNSjtRQUMvQixNQUFNSyxxQkFBcUJELGlCQUFpQkUsR0FBRyxDQUFDLENBQUNDLFNBQVdBLE9BQU9YLEVBQUU7UUFFckV4QjtRQUVBLE1BQU1JLG1CQUFtQjtZQUFFNkI7UUFBbUI7SUFDaEQsR0FBRztRQUFDN0I7UUFBb0J3QjtRQUFtQjVCO0tBQXVCO0lBRWxFLE1BQU1vQyxpQkFBaUJ6QyxtQkFBbUIwQyxRQUFRO0lBRWxELE1BQU1DLHFCQUNKLENBQUNuQywrQkFDRCxDQUFDaUMsa0JBQ0RoQix5QkFDQTNCLFVBQVVjLHdDQUNWQSxzQ0FBc0MzQixtQ0FDdEMyQixzQ0FBc0M7SUFFeEMsTUFBTWdDLFVBQVU7UUFDZCxJQUFJLENBQUNELG9CQUFvQjtZQUN2QjtRQUNGO1FBRUF6Qyw2QkFBNkI7SUFDL0I7SUFFQSxNQUFNMkMsa0NBQ0osUUFBQ25EO1FBQ0NvRCxRQUFRN0M7UUFDUjhDLFdBQVc3QztRQUNYOEMsT0FBTztRQUNQQyxVQUNFO1FBRUZDLGdCQUFnQmQ7UUFDaEJlLG1CQUFtQjs7Ozs7O0lBSXZCLE9BQU87UUFDTFI7UUFDQUM7UUFDQWxELG1CQUFtQm1EO0lBQ3JCO0FBQ0YsRUFBRTtHQW5IUzlDOztRQUt5Qko7UUFRQ0o7UUFPQ0U7UUFFTE47UUFJYVE7UUFJSkE7UUFJWkE7UUFJUU47UUF5QldEIn0=