import { contextStoreCurrentViewIdComponentState } from "/src/modules/context-store/states/contextStoreCurrentViewIdComponentState.ts";
import { CoreObjectNameSingular } from "/src/modules/object-metadata/types/CoreObjectNameSingular.ts";
import { useCreateOneRecord } from "/src/modules/object-record/hooks/useCreateOneRecord.ts";
import { useLazyFindManyRecords } from "/src/modules/object-record/hooks/useLazyFindManyRecords.ts";
import { currentRecordFilterGroupsComponentState } from "/src/modules/object-record/record-filter-group/states/currentRecordFilterGroupsComponentState.ts";
import { currentRecordFiltersComponentState } from "/src/modules/object-record/record-filter/states/currentRecordFiltersComponentState.ts";
import { useRecordIndexContextOrThrow } from "/src/modules/object-record/record-index/contexts/RecordIndexContext.ts";
import { currentRecordSortsComponentState } from "/src/modules/object-record/record-sort/states/currentRecordSortsComponentState.ts";
import { prefetchViewFromViewIdFamilySelector } from "/src/modules/prefetch/states/selector/prefetchViewFromViewIdFamilySelector.ts";
import { getSnapshotValue } from "/src/modules/ui/utilities/recoil-scope/utils/getSnapshotValue.ts";
import { useRecoilComponentCallbackStateV2 } from "/src/modules/ui/utilities/state/component-state/hooks/useRecoilComponentCallbackStateV2.ts";
import { useRecoilComponentValueV2 } from "/src/modules/ui/utilities/state/component-state/hooks/useRecoilComponentValueV2.ts";
import { usePersistViewFieldRecords } from "/src/modules/views/hooks/internal/usePersistViewFieldRecords.ts";
import { usePersistViewFilterGroupRecords } from "/src/modules/views/hooks/internal/usePersistViewFilterGroupRecords.ts";
import { usePersistViewFilterRecords } from "/src/modules/views/hooks/internal/usePersistViewFilterRecords.ts";
import { usePersistViewGroupRecords } from "/src/modules/views/hooks/internal/usePersistViewGroupRecords.ts";
import { usePersistViewSortRecords } from "/src/modules/views/hooks/internal/usePersistViewSortRecords.ts";
import { isPersistingViewFieldsState } from "/src/modules/views/states/isPersistingViewFieldsState.ts";
import { ViewType } from "/src/modules/views/types/ViewType.ts";
import { duplicateViewFiltersAndViewFilterGroups } from "/src/modules/views/utils/duplicateViewFiltersAndViewFilterGroups.ts";
import { mapRecordFilterGroupToViewFilterGroup } from "/src/modules/views/utils/mapRecordFilterGroupToViewFilterGroup.ts";
import { mapRecordFilterToViewFilter } from "/src/modules/views/utils/mapRecordFilterToViewFilter.ts";
import { mapRecordSortToViewSort } from "/src/modules/views/utils/mapRecordSortToViewSort.ts";
import { useRecoilCallback } from "/@fs/D:/twenty-table-o/node_modules/.vite/packages/twenty-front/deps/recoil.js?v=226f7286";
import { v4 } from "/@fs/D:/twenty-table-o/node_modules/.vite/packages/twenty-front/deps/uuid.js?v=226f7286";
import { isUndefinedOrNull } from "/src/utils/isUndefinedOrNull.ts";
import { isDefined } from "/@fs/D:/twenty-table-o/packages/twenty-shared/utils/dist/twenty-shared-utils.esm.js";
export const useCreateViewFromCurrentView = (viewBarComponentId)=>{
    const currentViewIdCallbackState = useRecoilComponentCallbackStateV2(contextStoreCurrentViewIdComponentState, viewBarComponentId);
    const { createOneRecord } = useCreateOneRecord({
        objectNameSingular: CoreObjectNameSingular.View
    });
    const { createViewFieldRecords } = usePersistViewFieldRecords();
    const { createViewSortRecords } = usePersistViewSortRecords();
    const { createViewGroupRecords } = usePersistViewGroupRecords();
    const { createViewFilterRecords } = usePersistViewFilterRecords();
    const { createViewFilterGroupRecords } = usePersistViewFilterGroupRecords();
    const { objectMetadataItem } = useRecordIndexContextOrThrow();
    const { findManyRecords } = useLazyFindManyRecords({
        objectNameSingular: CoreObjectNameSingular.View,
        fetchPolicy: 'network-only'
    });
    const currentRecordFilterGroups = useRecoilComponentValueV2(currentRecordFilterGroupsComponentState);
    const currentRecordSorts = useRecoilComponentValueV2(currentRecordSortsComponentState);
    const currentRecordFilters = useRecoilComponentValueV2(currentRecordFiltersComponentState);
    const createViewFromCurrentView = useRecoilCallback(({ snapshot, set })=>async ({ id, name, icon, kanbanFieldMetadataId, type }, shouldCopyFiltersAndSortsAndAggregate)=>{
            const currentViewId = getSnapshotValue(snapshot, currentViewIdCallbackState);
            if (!isDefined(currentViewId)) {
                return;
            }
            const sourceView = snapshot.getLoadable(prefetchViewFromViewIdFamilySelector({
                viewId: currentViewId
            })).getValue();
            if (!isDefined(sourceView)) {
                return;
            }
            set(isPersistingViewFieldsState, true);
            const newView = await createOneRecord({
                id: id ?? v4(),
                name: name ?? sourceView.name,
                icon: icon ?? sourceView.icon,
                key: null,
                kanbanFieldMetadataId: kanbanFieldMetadataId ?? sourceView.kanbanFieldMetadataId,
                kanbanAggregateOperation: shouldCopyFiltersAndSortsAndAggregate ? sourceView.kanbanAggregateOperation : undefined,
                kanbanAggregateOperationFieldMetadataId: shouldCopyFiltersAndSortsAndAggregate ? sourceView.kanbanAggregateOperationFieldMetadataId : undefined,
                type: type ?? sourceView.type,
                objectMetadataId: sourceView.objectMetadataId
            });
            if (isUndefinedOrNull(newView)) {
                throw new Error('Failed to create view');
            }
            await createViewFieldRecords(sourceView.viewFields, newView);
            if (type === ViewType.Kanban) {
                if (!isDefined(kanbanFieldMetadataId)) {
                    throw new Error('Kanban view must have a kanban field');
                }
                const viewGroupsToCreate = objectMetadataItem.fields?.find((field)=>field.id === kanbanFieldMetadataId)?.options?.map((option, index)=>({
                        id: v4(),
                        __typename: 'ViewGroup',
                        fieldMetadataId: kanbanFieldMetadataId,
                        fieldValue: option.value,
                        isVisible: true,
                        position: index
                    })) ?? [];
                viewGroupsToCreate.push({
                    __typename: 'ViewGroup',
                    id: v4(),
                    fieldValue: '',
                    position: viewGroupsToCreate.length,
                    isVisible: true,
                    fieldMetadataId: kanbanFieldMetadataId
                });
                await createViewGroupRecords({
                    viewGroupsToCreate,
                    viewId: newView.id
                });
            }
            if (shouldCopyFiltersAndSortsAndAggregate === true) {
                const viewFilterGroupsToCopy = currentRecordFilterGroups.map((recordFilterGroup)=>mapRecordFilterGroupToViewFilterGroup({
                        recordFilterGroup,
                        view: newView
                    }));
                const viewFiltersToCopy = currentRecordFilters.map(mapRecordFilterToViewFilter);
                const { duplicatedViewFilterGroups: viewFilterGroupsToCreate, duplicatedViewFilters: viewFiltersToCreate } = duplicateViewFiltersAndViewFilterGroups({
                    viewFilterGroupsToDuplicate: viewFilterGroupsToCopy,
                    viewFiltersToDuplicate: viewFiltersToCopy
                });
                const viewSortsToCreate = currentRecordSorts.map(mapRecordSortToViewSort).map((viewSort)=>({
                        ...viewSort,
                        id: v4()
                    }));
                await createViewFilterGroupRecords(viewFilterGroupsToCreate, newView);
                await createViewFilterRecords(viewFiltersToCreate, newView);
                await createViewSortRecords(viewSortsToCreate, newView);
            }
            await findManyRecords();
            set(isPersistingViewFieldsState, false);
        }, [
        currentViewIdCallbackState,
        createOneRecord,
        createViewFieldRecords,
        findManyRecords,
        objectMetadataItem.fields,
        createViewGroupRecords,
        createViewSortRecords,
        createViewFilterRecords,
        createViewFilterGroupRecords,
        currentRecordFilters,
        currentRecordSorts,
        currentRecordFilterGroups
    ]);
    return {
        createViewFromCurrentView
    };
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZUNyZWF0ZVZpZXdGcm9tQ3VycmVudFZpZXcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29udGV4dFN0b3JlQ3VycmVudFZpZXdJZENvbXBvbmVudFN0YXRlIH0gZnJvbSAnQC9jb250ZXh0LXN0b3JlL3N0YXRlcy9jb250ZXh0U3RvcmVDdXJyZW50Vmlld0lkQ29tcG9uZW50U3RhdGUnO1xuaW1wb3J0IHsgQ29yZU9iamVjdE5hbWVTaW5ndWxhciB9IGZyb20gJ0Avb2JqZWN0LW1ldGFkYXRhL3R5cGVzL0NvcmVPYmplY3ROYW1lU2luZ3VsYXInO1xuaW1wb3J0IHsgdXNlQ3JlYXRlT25lUmVjb3JkIH0gZnJvbSAnQC9vYmplY3QtcmVjb3JkL2hvb2tzL3VzZUNyZWF0ZU9uZVJlY29yZCc7XG5pbXBvcnQgeyB1c2VMYXp5RmluZE1hbnlSZWNvcmRzIH0gZnJvbSAnQC9vYmplY3QtcmVjb3JkL2hvb2tzL3VzZUxhenlGaW5kTWFueVJlY29yZHMnO1xuaW1wb3J0IHsgY3VycmVudFJlY29yZEZpbHRlckdyb3Vwc0NvbXBvbmVudFN0YXRlIH0gZnJvbSAnQC9vYmplY3QtcmVjb3JkL3JlY29yZC1maWx0ZXItZ3JvdXAvc3RhdGVzL2N1cnJlbnRSZWNvcmRGaWx0ZXJHcm91cHNDb21wb25lbnRTdGF0ZSc7XG5pbXBvcnQgeyBjdXJyZW50UmVjb3JkRmlsdGVyc0NvbXBvbmVudFN0YXRlIH0gZnJvbSAnQC9vYmplY3QtcmVjb3JkL3JlY29yZC1maWx0ZXIvc3RhdGVzL2N1cnJlbnRSZWNvcmRGaWx0ZXJzQ29tcG9uZW50U3RhdGUnO1xuaW1wb3J0IHsgdXNlUmVjb3JkSW5kZXhDb250ZXh0T3JUaHJvdyB9IGZyb20gJ0Avb2JqZWN0LXJlY29yZC9yZWNvcmQtaW5kZXgvY29udGV4dHMvUmVjb3JkSW5kZXhDb250ZXh0JztcbmltcG9ydCB7IGN1cnJlbnRSZWNvcmRTb3J0c0NvbXBvbmVudFN0YXRlIH0gZnJvbSAnQC9vYmplY3QtcmVjb3JkL3JlY29yZC1zb3J0L3N0YXRlcy9jdXJyZW50UmVjb3JkU29ydHNDb21wb25lbnRTdGF0ZSc7XG5pbXBvcnQgeyBwcmVmZXRjaFZpZXdGcm9tVmlld0lkRmFtaWx5U2VsZWN0b3IgfSBmcm9tICdAL3ByZWZldGNoL3N0YXRlcy9zZWxlY3Rvci9wcmVmZXRjaFZpZXdGcm9tVmlld0lkRmFtaWx5U2VsZWN0b3InO1xuaW1wb3J0IHsgZ2V0U25hcHNob3RWYWx1ZSB9IGZyb20gJ0AvdWkvdXRpbGl0aWVzL3JlY29pbC1zY29wZS91dGlscy9nZXRTbmFwc2hvdFZhbHVlJztcbmltcG9ydCB7IHVzZVJlY29pbENvbXBvbmVudENhbGxiYWNrU3RhdGVWMiB9IGZyb20gJ0AvdWkvdXRpbGl0aWVzL3N0YXRlL2NvbXBvbmVudC1zdGF0ZS9ob29rcy91c2VSZWNvaWxDb21wb25lbnRDYWxsYmFja1N0YXRlVjInO1xuaW1wb3J0IHsgdXNlUmVjb2lsQ29tcG9uZW50VmFsdWVWMiB9IGZyb20gJ0AvdWkvdXRpbGl0aWVzL3N0YXRlL2NvbXBvbmVudC1zdGF0ZS9ob29rcy91c2VSZWNvaWxDb21wb25lbnRWYWx1ZVYyJztcbmltcG9ydCB7IHVzZVBlcnNpc3RWaWV3RmllbGRSZWNvcmRzIH0gZnJvbSAnQC92aWV3cy9ob29rcy9pbnRlcm5hbC91c2VQZXJzaXN0Vmlld0ZpZWxkUmVjb3Jkcyc7XG5pbXBvcnQgeyB1c2VQZXJzaXN0Vmlld0ZpbHRlckdyb3VwUmVjb3JkcyB9IGZyb20gJ0Avdmlld3MvaG9va3MvaW50ZXJuYWwvdXNlUGVyc2lzdFZpZXdGaWx0ZXJHcm91cFJlY29yZHMnO1xuaW1wb3J0IHsgdXNlUGVyc2lzdFZpZXdGaWx0ZXJSZWNvcmRzIH0gZnJvbSAnQC92aWV3cy9ob29rcy9pbnRlcm5hbC91c2VQZXJzaXN0Vmlld0ZpbHRlclJlY29yZHMnO1xuaW1wb3J0IHsgdXNlUGVyc2lzdFZpZXdHcm91cFJlY29yZHMgfSBmcm9tICdAL3ZpZXdzL2hvb2tzL2ludGVybmFsL3VzZVBlcnNpc3RWaWV3R3JvdXBSZWNvcmRzJztcbmltcG9ydCB7IHVzZVBlcnNpc3RWaWV3U29ydFJlY29yZHMgfSBmcm9tICdAL3ZpZXdzL2hvb2tzL2ludGVybmFsL3VzZVBlcnNpc3RWaWV3U29ydFJlY29yZHMnO1xuaW1wb3J0IHsgaXNQZXJzaXN0aW5nVmlld0ZpZWxkc1N0YXRlIH0gZnJvbSAnQC92aWV3cy9zdGF0ZXMvaXNQZXJzaXN0aW5nVmlld0ZpZWxkc1N0YXRlJztcbmltcG9ydCB7IEdyYXBoUUxWaWV3IH0gZnJvbSAnQC92aWV3cy90eXBlcy9HcmFwaFFMVmlldyc7XG5pbXBvcnQgeyBWaWV3IH0gZnJvbSAnQC92aWV3cy90eXBlcy9WaWV3JztcbmltcG9ydCB7IFZpZXdHcm91cCB9IGZyb20gJ0Avdmlld3MvdHlwZXMvVmlld0dyb3VwJztcbmltcG9ydCB7IFZpZXdTb3J0IH0gZnJvbSAnQC92aWV3cy90eXBlcy9WaWV3U29ydCc7XG5pbXBvcnQgeyBWaWV3VHlwZSB9IGZyb20gJ0Avdmlld3MvdHlwZXMvVmlld1R5cGUnO1xuaW1wb3J0IHsgZHVwbGljYXRlVmlld0ZpbHRlcnNBbmRWaWV3RmlsdGVyR3JvdXBzIH0gZnJvbSAnQC92aWV3cy91dGlscy9kdXBsaWNhdGVWaWV3RmlsdGVyc0FuZFZpZXdGaWx0ZXJHcm91cHMnO1xuaW1wb3J0IHsgbWFwUmVjb3JkRmlsdGVyR3JvdXBUb1ZpZXdGaWx0ZXJHcm91cCB9IGZyb20gJ0Avdmlld3MvdXRpbHMvbWFwUmVjb3JkRmlsdGVyR3JvdXBUb1ZpZXdGaWx0ZXJHcm91cCc7XG5pbXBvcnQgeyBtYXBSZWNvcmRGaWx0ZXJUb1ZpZXdGaWx0ZXIgfSBmcm9tICdAL3ZpZXdzL3V0aWxzL21hcFJlY29yZEZpbHRlclRvVmlld0ZpbHRlcic7XG5pbXBvcnQgeyBtYXBSZWNvcmRTb3J0VG9WaWV3U29ydCB9IGZyb20gJ0Avdmlld3MvdXRpbHMvbWFwUmVjb3JkU29ydFRvVmlld1NvcnQnO1xuaW1wb3J0IHsgdXNlUmVjb2lsQ2FsbGJhY2sgfSBmcm9tICdyZWNvaWwnO1xuaW1wb3J0IHsgdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IGlzVW5kZWZpbmVkT3JOdWxsIH0gZnJvbSAnfi91dGlscy9pc1VuZGVmaW5lZE9yTnVsbCc7XG5pbXBvcnQgeyBpc0RlZmluZWQgfSBmcm9tICd0d2VudHktc2hhcmVkL3V0aWxzJztcblxuZXhwb3J0IGNvbnN0IHVzZUNyZWF0ZVZpZXdGcm9tQ3VycmVudFZpZXcgPSAodmlld0JhckNvbXBvbmVudElkPzogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRWaWV3SWRDYWxsYmFja1N0YXRlID0gdXNlUmVjb2lsQ29tcG9uZW50Q2FsbGJhY2tTdGF0ZVYyKFxuICAgIGNvbnRleHRTdG9yZUN1cnJlbnRWaWV3SWRDb21wb25lbnRTdGF0ZSxcbiAgICB2aWV3QmFyQ29tcG9uZW50SWQsXG4gICk7XG5cbiAgY29uc3QgeyBjcmVhdGVPbmVSZWNvcmQgfSA9IHVzZUNyZWF0ZU9uZVJlY29yZDxWaWV3Pih7XG4gICAgb2JqZWN0TmFtZVNpbmd1bGFyOiBDb3JlT2JqZWN0TmFtZVNpbmd1bGFyLlZpZXcsXG4gIH0pO1xuXG4gIGNvbnN0IHsgY3JlYXRlVmlld0ZpZWxkUmVjb3JkcyB9ID0gdXNlUGVyc2lzdFZpZXdGaWVsZFJlY29yZHMoKTtcblxuICBjb25zdCB7IGNyZWF0ZVZpZXdTb3J0UmVjb3JkcyB9ID0gdXNlUGVyc2lzdFZpZXdTb3J0UmVjb3JkcygpO1xuXG4gIGNvbnN0IHsgY3JlYXRlVmlld0dyb3VwUmVjb3JkcyB9ID0gdXNlUGVyc2lzdFZpZXdHcm91cFJlY29yZHMoKTtcblxuICBjb25zdCB7IGNyZWF0ZVZpZXdGaWx0ZXJSZWNvcmRzIH0gPSB1c2VQZXJzaXN0Vmlld0ZpbHRlclJlY29yZHMoKTtcblxuICBjb25zdCB7IGNyZWF0ZVZpZXdGaWx0ZXJHcm91cFJlY29yZHMgfSA9IHVzZVBlcnNpc3RWaWV3RmlsdGVyR3JvdXBSZWNvcmRzKCk7XG5cbiAgY29uc3QgeyBvYmplY3RNZXRhZGF0YUl0ZW0gfSA9IHVzZVJlY29yZEluZGV4Q29udGV4dE9yVGhyb3coKTtcblxuICBjb25zdCB7IGZpbmRNYW55UmVjb3JkcyB9ID0gdXNlTGF6eUZpbmRNYW55UmVjb3Jkcyh7XG4gICAgb2JqZWN0TmFtZVNpbmd1bGFyOiBDb3JlT2JqZWN0TmFtZVNpbmd1bGFyLlZpZXcsXG4gICAgZmV0Y2hQb2xpY3k6ICduZXR3b3JrLW9ubHknLFxuICB9KTtcblxuICBjb25zdCBjdXJyZW50UmVjb3JkRmlsdGVyR3JvdXBzID0gdXNlUmVjb2lsQ29tcG9uZW50VmFsdWVWMihcbiAgICBjdXJyZW50UmVjb3JkRmlsdGVyR3JvdXBzQ29tcG9uZW50U3RhdGUsXG4gICk7XG5cbiAgY29uc3QgY3VycmVudFJlY29yZFNvcnRzID0gdXNlUmVjb2lsQ29tcG9uZW50VmFsdWVWMihcbiAgICBjdXJyZW50UmVjb3JkU29ydHNDb21wb25lbnRTdGF0ZSxcbiAgKTtcblxuICBjb25zdCBjdXJyZW50UmVjb3JkRmlsdGVycyA9IHVzZVJlY29pbENvbXBvbmVudFZhbHVlVjIoXG4gICAgY3VycmVudFJlY29yZEZpbHRlcnNDb21wb25lbnRTdGF0ZSxcbiAgKTtcblxuICBjb25zdCBjcmVhdGVWaWV3RnJvbUN1cnJlbnRWaWV3ID0gdXNlUmVjb2lsQ2FsbGJhY2soXG4gICAgKHsgc25hcHNob3QsIHNldCB9KSA9PlxuICAgICAgYXN5bmMgKFxuICAgICAgICB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBpY29uLFxuICAgICAgICAgIGthbmJhbkZpZWxkTWV0YWRhdGFJZCxcbiAgICAgICAgICB0eXBlLFxuICAgICAgICB9OiBQYXJ0aWFsPFxuICAgICAgICAgIFBpY2s8XG4gICAgICAgICAgICBHcmFwaFFMVmlldyxcbiAgICAgICAgICAgICdpZCcgfCAnbmFtZScgfCAnaWNvbicgfCAna2FuYmFuRmllbGRNZXRhZGF0YUlkJyB8ICd0eXBlJ1xuICAgICAgICAgID5cbiAgICAgICAgPixcbiAgICAgICAgc2hvdWxkQ29weUZpbHRlcnNBbmRTb3J0c0FuZEFnZ3JlZ2F0ZT86IGJvb2xlYW4sXG4gICAgICApID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFZpZXdJZCA9IGdldFNuYXBzaG90VmFsdWUoXG4gICAgICAgICAgc25hcHNob3QsXG4gICAgICAgICAgY3VycmVudFZpZXdJZENhbGxiYWNrU3RhdGUsXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKCFpc0RlZmluZWQoY3VycmVudFZpZXdJZCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3VyY2VWaWV3ID0gc25hcHNob3RcbiAgICAgICAgICAuZ2V0TG9hZGFibGUoXG4gICAgICAgICAgICBwcmVmZXRjaFZpZXdGcm9tVmlld0lkRmFtaWx5U2VsZWN0b3Ioe1xuICAgICAgICAgICAgICB2aWV3SWQ6IGN1cnJlbnRWaWV3SWQsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApXG4gICAgICAgICAgLmdldFZhbHVlKCk7XG5cbiAgICAgICAgaWYgKCFpc0RlZmluZWQoc291cmNlVmlldykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZXQoaXNQZXJzaXN0aW5nVmlld0ZpZWxkc1N0YXRlLCB0cnVlKTtcblxuICAgICAgICBjb25zdCBuZXdWaWV3ID0gYXdhaXQgY3JlYXRlT25lUmVjb3JkKHtcbiAgICAgICAgICBpZDogaWQgPz8gdjQoKSxcbiAgICAgICAgICBuYW1lOiBuYW1lID8/IHNvdXJjZVZpZXcubmFtZSxcbiAgICAgICAgICBpY29uOiBpY29uID8/IHNvdXJjZVZpZXcuaWNvbixcbiAgICAgICAgICBrZXk6IG51bGwsXG4gICAgICAgICAga2FuYmFuRmllbGRNZXRhZGF0YUlkOlxuICAgICAgICAgICAga2FuYmFuRmllbGRNZXRhZGF0YUlkID8/IHNvdXJjZVZpZXcua2FuYmFuRmllbGRNZXRhZGF0YUlkLFxuICAgICAgICAgIGthbmJhbkFnZ3JlZ2F0ZU9wZXJhdGlvbjogc2hvdWxkQ29weUZpbHRlcnNBbmRTb3J0c0FuZEFnZ3JlZ2F0ZVxuICAgICAgICAgICAgPyBzb3VyY2VWaWV3LmthbmJhbkFnZ3JlZ2F0ZU9wZXJhdGlvblxuICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAga2FuYmFuQWdncmVnYXRlT3BlcmF0aW9uRmllbGRNZXRhZGF0YUlkOlxuICAgICAgICAgICAgc2hvdWxkQ29weUZpbHRlcnNBbmRTb3J0c0FuZEFnZ3JlZ2F0ZVxuICAgICAgICAgICAgICA/IHNvdXJjZVZpZXcua2FuYmFuQWdncmVnYXRlT3BlcmF0aW9uRmllbGRNZXRhZGF0YUlkXG4gICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgIHR5cGU6IHR5cGUgPz8gc291cmNlVmlldy50eXBlLFxuICAgICAgICAgIG9iamVjdE1ldGFkYXRhSWQ6IHNvdXJjZVZpZXcub2JqZWN0TWV0YWRhdGFJZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkT3JOdWxsKG5ld1ZpZXcpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIHZpZXcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IGNyZWF0ZVZpZXdGaWVsZFJlY29yZHMoc291cmNlVmlldy52aWV3RmllbGRzLCBuZXdWaWV3KTtcblxuICAgICAgICBpZiAodHlwZSA9PT0gVmlld1R5cGUuS2FuYmFuKSB7XG4gICAgICAgICAgaWYgKCFpc0RlZmluZWQoa2FuYmFuRmllbGRNZXRhZGF0YUlkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdLYW5iYW4gdmlldyBtdXN0IGhhdmUgYSBrYW5iYW4gZmllbGQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB2aWV3R3JvdXBzVG9DcmVhdGUgPVxuICAgICAgICAgICAgb2JqZWN0TWV0YWRhdGFJdGVtLmZpZWxkc1xuICAgICAgICAgICAgICA/LmZpbmQoKGZpZWxkKSA9PiBmaWVsZC5pZCA9PT0ga2FuYmFuRmllbGRNZXRhZGF0YUlkKVxuICAgICAgICAgICAgICA/Lm9wdGlvbnM/Lm1hcChcbiAgICAgICAgICAgICAgICAob3B0aW9uLCBpbmRleCkgPT5cbiAgICAgICAgICAgICAgICAgICh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB2NCgpLFxuICAgICAgICAgICAgICAgICAgICBfX3R5cGVuYW1lOiAnVmlld0dyb3VwJyxcbiAgICAgICAgICAgICAgICAgICAgZmllbGRNZXRhZGF0YUlkOiBrYW5iYW5GaWVsZE1ldGFkYXRhSWQsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWU6IG9wdGlvbi52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogaW5kZXgsXG4gICAgICAgICAgICAgICAgICB9KSBzYXRpc2ZpZXMgVmlld0dyb3VwLFxuICAgICAgICAgICAgICApID8/IFtdO1xuXG4gICAgICAgICAgdmlld0dyb3Vwc1RvQ3JlYXRlLnB1c2goe1xuICAgICAgICAgICAgX190eXBlbmFtZTogJ1ZpZXdHcm91cCcsXG4gICAgICAgICAgICBpZDogdjQoKSxcbiAgICAgICAgICAgIGZpZWxkVmFsdWU6ICcnLFxuICAgICAgICAgICAgcG9zaXRpb246IHZpZXdHcm91cHNUb0NyZWF0ZS5sZW5ndGgsXG4gICAgICAgICAgICBpc1Zpc2libGU6IHRydWUsXG4gICAgICAgICAgICBmaWVsZE1ldGFkYXRhSWQ6IGthbmJhbkZpZWxkTWV0YWRhdGFJZCxcbiAgICAgICAgICB9IHNhdGlzZmllcyBWaWV3R3JvdXApO1xuXG4gICAgICAgICAgYXdhaXQgY3JlYXRlVmlld0dyb3VwUmVjb3Jkcyh7XG4gICAgICAgICAgICB2aWV3R3JvdXBzVG9DcmVhdGUsXG4gICAgICAgICAgICB2aWV3SWQ6IG5ld1ZpZXcuaWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hvdWxkQ29weUZpbHRlcnNBbmRTb3J0c0FuZEFnZ3JlZ2F0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNvbnN0IHZpZXdGaWx0ZXJHcm91cHNUb0NvcHkgPSBjdXJyZW50UmVjb3JkRmlsdGVyR3JvdXBzLm1hcChcbiAgICAgICAgICAgIChyZWNvcmRGaWx0ZXJHcm91cCkgPT5cbiAgICAgICAgICAgICAgbWFwUmVjb3JkRmlsdGVyR3JvdXBUb1ZpZXdGaWx0ZXJHcm91cCh7XG4gICAgICAgICAgICAgICAgcmVjb3JkRmlsdGVyR3JvdXAsXG4gICAgICAgICAgICAgICAgdmlldzogbmV3VmlldyxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGNvbnN0IHZpZXdGaWx0ZXJzVG9Db3B5ID0gY3VycmVudFJlY29yZEZpbHRlcnMubWFwKFxuICAgICAgICAgICAgbWFwUmVjb3JkRmlsdGVyVG9WaWV3RmlsdGVyLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBkdXBsaWNhdGVkVmlld0ZpbHRlckdyb3Vwczogdmlld0ZpbHRlckdyb3Vwc1RvQ3JlYXRlLFxuICAgICAgICAgICAgZHVwbGljYXRlZFZpZXdGaWx0ZXJzOiB2aWV3RmlsdGVyc1RvQ3JlYXRlLFxuICAgICAgICAgIH0gPSBkdXBsaWNhdGVWaWV3RmlsdGVyc0FuZFZpZXdGaWx0ZXJHcm91cHMoe1xuICAgICAgICAgICAgdmlld0ZpbHRlckdyb3Vwc1RvRHVwbGljYXRlOiB2aWV3RmlsdGVyR3JvdXBzVG9Db3B5LFxuICAgICAgICAgICAgdmlld0ZpbHRlcnNUb0R1cGxpY2F0ZTogdmlld0ZpbHRlcnNUb0NvcHksXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCB2aWV3U29ydHNUb0NyZWF0ZSA9IGN1cnJlbnRSZWNvcmRTb3J0c1xuICAgICAgICAgICAgLm1hcChtYXBSZWNvcmRTb3J0VG9WaWV3U29ydClcbiAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgICh2aWV3U29ydCkgPT5cbiAgICAgICAgICAgICAgICAoe1xuICAgICAgICAgICAgICAgICAgLi4udmlld1NvcnQsXG4gICAgICAgICAgICAgICAgICBpZDogdjQoKSxcbiAgICAgICAgICAgICAgICB9KSBzYXRpc2ZpZXMgVmlld1NvcnQsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgYXdhaXQgY3JlYXRlVmlld0ZpbHRlckdyb3VwUmVjb3Jkcyh2aWV3RmlsdGVyR3JvdXBzVG9DcmVhdGUsIG5ld1ZpZXcpO1xuICAgICAgICAgIGF3YWl0IGNyZWF0ZVZpZXdGaWx0ZXJSZWNvcmRzKHZpZXdGaWx0ZXJzVG9DcmVhdGUsIG5ld1ZpZXcpO1xuICAgICAgICAgIGF3YWl0IGNyZWF0ZVZpZXdTb3J0UmVjb3Jkcyh2aWV3U29ydHNUb0NyZWF0ZSwgbmV3Vmlldyk7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCBmaW5kTWFueVJlY29yZHMoKTtcbiAgICAgICAgc2V0KGlzUGVyc2lzdGluZ1ZpZXdGaWVsZHNTdGF0ZSwgZmFsc2UpO1xuICAgICAgfSxcbiAgICBbXG4gICAgICBjdXJyZW50Vmlld0lkQ2FsbGJhY2tTdGF0ZSxcbiAgICAgIGNyZWF0ZU9uZVJlY29yZCxcbiAgICAgIGNyZWF0ZVZpZXdGaWVsZFJlY29yZHMsXG4gICAgICBmaW5kTWFueVJlY29yZHMsXG4gICAgICBvYmplY3RNZXRhZGF0YUl0ZW0uZmllbGRzLFxuICAgICAgY3JlYXRlVmlld0dyb3VwUmVjb3JkcyxcbiAgICAgIGNyZWF0ZVZpZXdTb3J0UmVjb3JkcyxcbiAgICAgIGNyZWF0ZVZpZXdGaWx0ZXJSZWNvcmRzLFxuICAgICAgY3JlYXRlVmlld0ZpbHRlckdyb3VwUmVjb3JkcyxcbiAgICAgIGN1cnJlbnRSZWNvcmRGaWx0ZXJzLFxuICAgICAgY3VycmVudFJlY29yZFNvcnRzLFxuICAgICAgY3VycmVudFJlY29yZEZpbHRlckdyb3VwcyxcbiAgICBdLFxuICApO1xuXG4gIHJldHVybiB7IGNyZWF0ZVZpZXdGcm9tQ3VycmVudFZpZXcgfTtcbn07XG4iXSwibmFtZXMiOlsiY29udGV4dFN0b3JlQ3VycmVudFZpZXdJZENvbXBvbmVudFN0YXRlIiwiQ29yZU9iamVjdE5hbWVTaW5ndWxhciIsInVzZUNyZWF0ZU9uZVJlY29yZCIsInVzZUxhenlGaW5kTWFueVJlY29yZHMiLCJjdXJyZW50UmVjb3JkRmlsdGVyR3JvdXBzQ29tcG9uZW50U3RhdGUiLCJjdXJyZW50UmVjb3JkRmlsdGVyc0NvbXBvbmVudFN0YXRlIiwidXNlUmVjb3JkSW5kZXhDb250ZXh0T3JUaHJvdyIsImN1cnJlbnRSZWNvcmRTb3J0c0NvbXBvbmVudFN0YXRlIiwicHJlZmV0Y2hWaWV3RnJvbVZpZXdJZEZhbWlseVNlbGVjdG9yIiwiZ2V0U25hcHNob3RWYWx1ZSIsInVzZVJlY29pbENvbXBvbmVudENhbGxiYWNrU3RhdGVWMiIsInVzZVJlY29pbENvbXBvbmVudFZhbHVlVjIiLCJ1c2VQZXJzaXN0Vmlld0ZpZWxkUmVjb3JkcyIsInVzZVBlcnNpc3RWaWV3RmlsdGVyR3JvdXBSZWNvcmRzIiwidXNlUGVyc2lzdFZpZXdGaWx0ZXJSZWNvcmRzIiwidXNlUGVyc2lzdFZpZXdHcm91cFJlY29yZHMiLCJ1c2VQZXJzaXN0Vmlld1NvcnRSZWNvcmRzIiwiaXNQZXJzaXN0aW5nVmlld0ZpZWxkc1N0YXRlIiwiVmlld1R5cGUiLCJkdXBsaWNhdGVWaWV3RmlsdGVyc0FuZFZpZXdGaWx0ZXJHcm91cHMiLCJtYXBSZWNvcmRGaWx0ZXJHcm91cFRvVmlld0ZpbHRlckdyb3VwIiwibWFwUmVjb3JkRmlsdGVyVG9WaWV3RmlsdGVyIiwibWFwUmVjb3JkU29ydFRvVmlld1NvcnQiLCJ1c2VSZWNvaWxDYWxsYmFjayIsInY0IiwiaXNVbmRlZmluZWRPck51bGwiLCJpc0RlZmluZWQiLCJ1c2VDcmVhdGVWaWV3RnJvbUN1cnJlbnRWaWV3Iiwidmlld0JhckNvbXBvbmVudElkIiwiY3VycmVudFZpZXdJZENhbGxiYWNrU3RhdGUiLCJjcmVhdGVPbmVSZWNvcmQiLCJvYmplY3ROYW1lU2luZ3VsYXIiLCJWaWV3IiwiY3JlYXRlVmlld0ZpZWxkUmVjb3JkcyIsImNyZWF0ZVZpZXdTb3J0UmVjb3JkcyIsImNyZWF0ZVZpZXdHcm91cFJlY29yZHMiLCJjcmVhdGVWaWV3RmlsdGVyUmVjb3JkcyIsImNyZWF0ZVZpZXdGaWx0ZXJHcm91cFJlY29yZHMiLCJvYmplY3RNZXRhZGF0YUl0ZW0iLCJmaW5kTWFueVJlY29yZHMiLCJmZXRjaFBvbGljeSIsImN1cnJlbnRSZWNvcmRGaWx0ZXJHcm91cHMiLCJjdXJyZW50UmVjb3JkU29ydHMiLCJjdXJyZW50UmVjb3JkRmlsdGVycyIsImNyZWF0ZVZpZXdGcm9tQ3VycmVudFZpZXciLCJzbmFwc2hvdCIsInNldCIsImlkIiwibmFtZSIsImljb24iLCJrYW5iYW5GaWVsZE1ldGFkYXRhSWQiLCJ0eXBlIiwic2hvdWxkQ29weUZpbHRlcnNBbmRTb3J0c0FuZEFnZ3JlZ2F0ZSIsImN1cnJlbnRWaWV3SWQiLCJzb3VyY2VWaWV3IiwiZ2V0TG9hZGFibGUiLCJ2aWV3SWQiLCJnZXRWYWx1ZSIsIm5ld1ZpZXciLCJrZXkiLCJrYW5iYW5BZ2dyZWdhdGVPcGVyYXRpb24iLCJ1bmRlZmluZWQiLCJrYW5iYW5BZ2dyZWdhdGVPcGVyYXRpb25GaWVsZE1ldGFkYXRhSWQiLCJvYmplY3RNZXRhZGF0YUlkIiwiRXJyb3IiLCJ2aWV3RmllbGRzIiwiS2FuYmFuIiwidmlld0dyb3Vwc1RvQ3JlYXRlIiwiZmllbGRzIiwiZmluZCIsImZpZWxkIiwib3B0aW9ucyIsIm1hcCIsIm9wdGlvbiIsImluZGV4IiwiX190eXBlbmFtZSIsImZpZWxkTWV0YWRhdGFJZCIsImZpZWxkVmFsdWUiLCJ2YWx1ZSIsImlzVmlzaWJsZSIsInBvc2l0aW9uIiwicHVzaCIsImxlbmd0aCIsInZpZXdGaWx0ZXJHcm91cHNUb0NvcHkiLCJyZWNvcmRGaWx0ZXJHcm91cCIsInZpZXciLCJ2aWV3RmlsdGVyc1RvQ29weSIsImR1cGxpY2F0ZWRWaWV3RmlsdGVyR3JvdXBzIiwidmlld0ZpbHRlckdyb3Vwc1RvQ3JlYXRlIiwiZHVwbGljYXRlZFZpZXdGaWx0ZXJzIiwidmlld0ZpbHRlcnNUb0NyZWF0ZSIsInZpZXdGaWx0ZXJHcm91cHNUb0R1cGxpY2F0ZSIsInZpZXdGaWx0ZXJzVG9EdXBsaWNhdGUiLCJ2aWV3U29ydHNUb0NyZWF0ZSIsInZpZXdTb3J0Il0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSx1Q0FBdUMsUUFBUSxpRUFBaUU7QUFDekgsU0FBU0Msc0JBQXNCLFFBQVEsaURBQWlEO0FBQ3hGLFNBQVNDLGtCQUFrQixRQUFRLDJDQUEyQztBQUM5RSxTQUFTQyxzQkFBc0IsUUFBUSwrQ0FBK0M7QUFDdEYsU0FBU0MsdUNBQXVDLFFBQVEscUZBQXFGO0FBQzdJLFNBQVNDLGtDQUFrQyxRQUFRLDBFQUEwRTtBQUM3SCxTQUFTQyw0QkFBNEIsUUFBUSwyREFBMkQ7QUFDeEcsU0FBU0MsZ0NBQWdDLFFBQVEsc0VBQXNFO0FBQ3ZILFNBQVNDLG9DQUFvQyxRQUFRLGtFQUFrRTtBQUN2SCxTQUFTQyxnQkFBZ0IsUUFBUSxxREFBcUQ7QUFDdEYsU0FBU0MsaUNBQWlDLFFBQVEsK0VBQStFO0FBQ2pJLFNBQVNDLHlCQUF5QixRQUFRLHVFQUF1RTtBQUNqSCxTQUFTQywwQkFBMEIsUUFBUSxvREFBb0Q7QUFDL0YsU0FBU0MsZ0NBQWdDLFFBQVEsMERBQTBEO0FBQzNHLFNBQVNDLDJCQUEyQixRQUFRLHFEQUFxRDtBQUNqRyxTQUFTQywwQkFBMEIsUUFBUSxvREFBb0Q7QUFDL0YsU0FBU0MseUJBQXlCLFFBQVEsbURBQW1EO0FBQzdGLFNBQVNDLDJCQUEyQixRQUFRLDZDQUE2QztBQUt6RixTQUFTQyxRQUFRLFFBQVEseUJBQXlCO0FBQ2xELFNBQVNDLHVDQUF1QyxRQUFRLHdEQUF3RDtBQUNoSCxTQUFTQyxxQ0FBcUMsUUFBUSxzREFBc0Q7QUFDNUcsU0FBU0MsMkJBQTJCLFFBQVEsNENBQTRDO0FBQ3hGLFNBQVNDLHVCQUF1QixRQUFRLHdDQUF3QztBQUNoRixTQUFT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