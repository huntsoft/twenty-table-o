import { triggerAttachRelationOptimisticEffect } from "/src/modules/apollo/optimistic-effect/utils/triggerAttachRelationOptimisticEffect.ts";
import { triggerDestroyRecordsOptimisticEffect } from "/src/modules/apollo/optimistic-effect/utils/triggerDestroyRecordsOptimisticEffect.ts";
import { triggerDetachRelationOptimisticEffect } from "/src/modules/apollo/optimistic-effect/utils/triggerDetachRelationOptimisticEffect.ts";
import { CORE_OBJECT_NAMES_TO_DELETE_ON_TRIGGER_RELATION_DETACH } from "/src/modules/apollo/types/coreObjectNamesToDeleteOnRelationDetach.ts";
import { isObjectRecordConnection } from "/src/modules/object-record/cache/utils/isObjectRecordConnection.ts";
import __vite__cjsImport5__sniptt_guards from "/@fs/D:/twenty-table-o/node_modules/.vite/packages/twenty-front/deps/@sniptt_guards.js?v=226f7286"; const isArray = __vite__cjsImport5__sniptt_guards["isArray"];
import { FieldMetadataType } from "/src/generated-metadata/graphql.ts";
import { isDeeplyEqual } from "/src/utils/isDeeplyEqual.ts";
import { isDefined } from "/@fs/D:/twenty-table-o/packages/twenty-shared/utils/dist/twenty-shared-utils.esm.js";
export const triggerUpdateRelationsOptimisticEffect = ({ cache, sourceObjectMetadataItem, currentSourceRecord, updatedSourceRecord, objectMetadataItems })=>{
    const isDeletion = isDefined(updatedSourceRecord) && isDefined(updatedSourceRecord['deletedAt']);
    return sourceObjectMetadataItem.fields.forEach((fieldMetadataItemOnSourceRecord)=>{
        const notARelationField = fieldMetadataItemOnSourceRecord.type !== FieldMetadataType.RELATION;
        if (notARelationField) {
            return;
        }
        const fieldDoesNotExist = isDefined(updatedSourceRecord) && !(fieldMetadataItemOnSourceRecord.name in updatedSourceRecord);
        if (fieldDoesNotExist) {
            return;
        }
        const relationDefinition = fieldMetadataItemOnSourceRecord.relationDefinition;
        if (!relationDefinition) {
            return;
        }
        const { targetObjectMetadata, targetFieldMetadata } = relationDefinition;
        const fullTargetObjectMetadataItem = objectMetadataItems.find(({ nameSingular })=>nameSingular === targetObjectMetadata.nameSingular);
        if (!fullTargetObjectMetadataItem) {
            return;
        }
        const currentFieldValueOnSourceRecord = currentSourceRecord?.[fieldMetadataItemOnSourceRecord.name];
        const updatedFieldValueOnSourceRecord = updatedSourceRecord?.[fieldMetadataItemOnSourceRecord.name];
        const noDiff = isDeeplyEqual(currentFieldValueOnSourceRecord, updatedFieldValueOnSourceRecord, {
            strict: true
        });
        if (noDiff && !isDeletion) {
            return;
        }
        const extractTargetRecordsFromRelation = (value)=>{
            // TODO investigate on the root cause of array injection here, should never occurs
            // Cache might be corrupted somewhere due to ObjectRecord and RecordGqlNode inclusion
            if (!isDefined(value) || isArray(value)) {
                return [];
            }
            if (isObjectRecordConnection(relationDefinition, value)) {
                return value.edges.map(({ node })=>node);
            }
            return [
                value
            ];
        };
        const recordToExtractDetachFrom = isDeletion ? updatedFieldValueOnSourceRecord : currentFieldValueOnSourceRecord;
        const targetRecordsToDetachFrom = extractTargetRecordsFromRelation(recordToExtractDetachFrom);
        // TODO: see if we can de-hardcode this, put cascade delete in relation metadata item
        //   Instead of hardcoding it here
        const shouldCascadeDeleteTargetRecords = CORE_OBJECT_NAMES_TO_DELETE_ON_TRIGGER_RELATION_DETACH.includes(targetObjectMetadata.nameSingular);
        if (shouldCascadeDeleteTargetRecords) {
            triggerDestroyRecordsOptimisticEffect({
                cache,
                objectMetadataItem: fullTargetObjectMetadataItem,
                recordsToDestroy: targetRecordsToDetachFrom,
                objectMetadataItems
            });
        } else if (isDefined(currentSourceRecord)) {
            targetRecordsToDetachFrom.forEach((targetRecordToDetachFrom)=>{
                triggerDetachRelationOptimisticEffect({
                    cache,
                    sourceObjectNameSingular: sourceObjectMetadataItem.nameSingular,
                    sourceRecordId: currentSourceRecord.id,
                    fieldNameOnTargetRecord: targetFieldMetadata.name,
                    targetObjectNameSingular: targetObjectMetadata.nameSingular,
                    targetRecordId: targetRecordToDetachFrom.id
                });
            });
        }
        if (!isDeletion && isDefined(updatedSourceRecord)) {
            const targetRecordsToAttachTo = extractTargetRecordsFromRelation(updatedFieldValueOnSourceRecord);
            targetRecordsToAttachTo.forEach((targetRecordToAttachTo)=>triggerAttachRelationOptimisticEffect({
                    cache,
                    sourceObjectNameSingular: sourceObjectMetadataItem.nameSingular,
                    sourceRecordId: updatedSourceRecord.id,
                    fieldNameOnTargetRecord: targetFieldMetadata.name,
                    targetObjectNameSingular: targetObjectMetadata.nameSingular,
                    targetRecordId: targetRecordToAttachTo.id
                }));
        }
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyaWdnZXJVcGRhdGVSZWxhdGlvbnNPcHRpbWlzdGljRWZmZWN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRyaWdnZXJBdHRhY2hSZWxhdGlvbk9wdGltaXN0aWNFZmZlY3QgfSBmcm9tICdAL2Fwb2xsby9vcHRpbWlzdGljLWVmZmVjdC91dGlscy90cmlnZ2VyQXR0YWNoUmVsYXRpb25PcHRpbWlzdGljRWZmZWN0JztcbmltcG9ydCB7IHRyaWdnZXJEZXN0cm95UmVjb3Jkc09wdGltaXN0aWNFZmZlY3QgfSBmcm9tICdAL2Fwb2xsby9vcHRpbWlzdGljLWVmZmVjdC91dGlscy90cmlnZ2VyRGVzdHJveVJlY29yZHNPcHRpbWlzdGljRWZmZWN0JztcbmltcG9ydCB7IHRyaWdnZXJEZXRhY2hSZWxhdGlvbk9wdGltaXN0aWNFZmZlY3QgfSBmcm9tICdAL2Fwb2xsby9vcHRpbWlzdGljLWVmZmVjdC91dGlscy90cmlnZ2VyRGV0YWNoUmVsYXRpb25PcHRpbWlzdGljRWZmZWN0JztcbmltcG9ydCB7IENPUkVfT0JKRUNUX05BTUVTX1RPX0RFTEVURV9PTl9UUklHR0VSX1JFTEFUSU9OX0RFVEFDSCB9IGZyb20gJ0AvYXBvbGxvL3R5cGVzL2NvcmVPYmplY3ROYW1lc1RvRGVsZXRlT25SZWxhdGlvbkRldGFjaCc7XG5pbXBvcnQgeyBDb3JlT2JqZWN0TmFtZVNpbmd1bGFyIH0gZnJvbSAnQC9vYmplY3QtbWV0YWRhdGEvdHlwZXMvQ29yZU9iamVjdE5hbWVTaW5ndWxhcic7XG5pbXBvcnQgeyBPYmplY3RNZXRhZGF0YUl0ZW0gfSBmcm9tICdAL29iamVjdC1tZXRhZGF0YS90eXBlcy9PYmplY3RNZXRhZGF0YUl0ZW0nO1xuaW1wb3J0IHsgaXNPYmplY3RSZWNvcmRDb25uZWN0aW9uIH0gZnJvbSAnQC9vYmplY3QtcmVjb3JkL2NhY2hlL3V0aWxzL2lzT2JqZWN0UmVjb3JkQ29ubmVjdGlvbic7XG5pbXBvcnQgeyBSZWNvcmRHcWxDb25uZWN0aW9uIH0gZnJvbSAnQC9vYmplY3QtcmVjb3JkL2dyYXBocWwvdHlwZXMvUmVjb3JkR3FsQ29ubmVjdGlvbic7XG5pbXBvcnQgeyBSZWNvcmRHcWxOb2RlIH0gZnJvbSAnQC9vYmplY3QtcmVjb3JkL2dyYXBocWwvdHlwZXMvUmVjb3JkR3FsTm9kZSc7XG5pbXBvcnQgeyBBcG9sbG9DYWNoZSB9IGZyb20gJ0BhcG9sbG8vY2xpZW50JztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICdAc25pcHR0L2d1YXJkcyc7XG5pbXBvcnQgeyBGaWVsZE1ldGFkYXRhVHlwZSB9IGZyb20gJ34vZ2VuZXJhdGVkLW1ldGFkYXRhL2dyYXBocWwnO1xuaW1wb3J0IHsgaXNEZWVwbHlFcXVhbCB9IGZyb20gJ34vdXRpbHMvaXNEZWVwbHlFcXVhbCc7XG5pbXBvcnQgeyBpc0RlZmluZWQgfSBmcm9tICd0d2VudHktc2hhcmVkL3V0aWxzJztcblxudHlwZSB0cmlnZ2VyVXBkYXRlUmVsYXRpb25zT3B0aW1pc3RpY0VmZmVjdEFyZ3MgPSB7XG4gIGNhY2hlOiBBcG9sbG9DYWNoZTx1bmtub3duPjtcbiAgc291cmNlT2JqZWN0TWV0YWRhdGFJdGVtOiBPYmplY3RNZXRhZGF0YUl0ZW07XG4gIGN1cnJlbnRTb3VyY2VSZWNvcmQ6IFJlY29yZEdxbE5vZGUgfCBudWxsO1xuICB1cGRhdGVkU291cmNlUmVjb3JkOiBSZWNvcmRHcWxOb2RlIHwgbnVsbDtcbiAgb2JqZWN0TWV0YWRhdGFJdGVtczogT2JqZWN0TWV0YWRhdGFJdGVtW107XG59O1xuZXhwb3J0IGNvbnN0IHRyaWdnZXJVcGRhdGVSZWxhdGlvbnNPcHRpbWlzdGljRWZmZWN0ID0gKHtcbiAgY2FjaGUsXG4gIHNvdXJjZU9iamVjdE1ldGFkYXRhSXRlbSxcbiAgY3VycmVudFNvdXJjZVJlY29yZCxcbiAgdXBkYXRlZFNvdXJjZVJlY29yZCxcbiAgb2JqZWN0TWV0YWRhdGFJdGVtcyxcbn06IHRyaWdnZXJVcGRhdGVSZWxhdGlvbnNPcHRpbWlzdGljRWZmZWN0QXJncykgPT4ge1xuICBjb25zdCBpc0RlbGV0aW9uID1cbiAgICBpc0RlZmluZWQodXBkYXRlZFNvdXJjZVJlY29yZCkgJiZcbiAgICBpc0RlZmluZWQodXBkYXRlZFNvdXJjZVJlY29yZFsnZGVsZXRlZEF0J10pO1xuXG4gIHJldHVybiBzb3VyY2VPYmplY3RNZXRhZGF0YUl0ZW0uZmllbGRzLmZvckVhY2goXG4gICAgKGZpZWxkTWV0YWRhdGFJdGVtT25Tb3VyY2VSZWNvcmQpID0+IHtcbiAgICAgIGNvbnN0IG5vdEFSZWxhdGlvbkZpZWxkID1cbiAgICAgICAgZmllbGRNZXRhZGF0YUl0ZW1PblNvdXJjZVJlY29yZC50eXBlICE9PSBGaWVsZE1ldGFkYXRhVHlwZS5SRUxBVElPTjtcblxuICAgICAgaWYgKG5vdEFSZWxhdGlvbkZpZWxkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZmllbGREb2VzTm90RXhpc3QgPVxuICAgICAgICBpc0RlZmluZWQodXBkYXRlZFNvdXJjZVJlY29yZCkgJiZcbiAgICAgICAgIShmaWVsZE1ldGFkYXRhSXRlbU9uU291cmNlUmVjb3JkLm5hbWUgaW4gdXBkYXRlZFNvdXJjZVJlY29yZCk7XG5cbiAgICAgIGlmIChmaWVsZERvZXNOb3RFeGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlbGF0aW9uRGVmaW5pdGlvbiA9XG4gICAgICAgIGZpZWxkTWV0YWRhdGFJdGVtT25Tb3VyY2VSZWNvcmQucmVsYXRpb25EZWZpbml0aW9uO1xuXG4gICAgICBpZiAoIXJlbGF0aW9uRGVmaW5pdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgdGFyZ2V0T2JqZWN0TWV0YWRhdGEsIHRhcmdldEZpZWxkTWV0YWRhdGEgfSA9IHJlbGF0aW9uRGVmaW5pdGlvbjtcblxuICAgICAgY29uc3QgZnVsbFRhcmdldE9iamVjdE1ldGFkYXRhSXRlbSA9IG9iamVjdE1ldGFkYXRhSXRlbXMuZmluZChcbiAgICAgICAgKHsgbmFtZVNpbmd1bGFyIH0pID0+XG4gICAgICAgICAgbmFtZVNpbmd1bGFyID09PSB0YXJnZXRPYmplY3RNZXRhZGF0YS5uYW1lU2luZ3VsYXIsXG4gICAgICApO1xuXG4gICAgICBpZiAoIWZ1bGxUYXJnZXRPYmplY3RNZXRhZGF0YUl0ZW0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjdXJyZW50RmllbGRWYWx1ZU9uU291cmNlUmVjb3JkOlxuICAgICAgICB8IFJlY29yZEdxbENvbm5lY3Rpb25cbiAgICAgICAgfCBSZWNvcmRHcWxOb2RlXG4gICAgICAgIHwgbnVsbCA9IGN1cnJlbnRTb3VyY2VSZWNvcmQ/LltmaWVsZE1ldGFkYXRhSXRlbU9uU291cmNlUmVjb3JkLm5hbWVdO1xuXG4gICAgICBjb25zdCB1cGRhdGVkRmllbGRWYWx1ZU9uU291cmNlUmVjb3JkOlxuICAgICAgICB8IFJlY29yZEdxbENvbm5lY3Rpb25cbiAgICAgICAgfCBSZWNvcmRHcWxOb2RlXG4gICAgICAgIHwgbnVsbCA9IHVwZGF0ZWRTb3VyY2VSZWNvcmQ/LltmaWVsZE1ldGFkYXRhSXRlbU9uU291cmNlUmVjb3JkLm5hbWVdO1xuXG4gICAgICBjb25zdCBub0RpZmYgPSBpc0RlZXBseUVxdWFsKFxuICAgICAgICBjdXJyZW50RmllbGRWYWx1ZU9uU291cmNlUmVjb3JkLFxuICAgICAgICB1cGRhdGVkRmllbGRWYWx1ZU9uU291cmNlUmVjb3JkLFxuICAgICAgICB7IHN0cmljdDogdHJ1ZSB9LFxuICAgICAgKTtcbiAgICAgIGlmIChub0RpZmYgJiYgIWlzRGVsZXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBleHRyYWN0VGFyZ2V0UmVjb3Jkc0Zyb21SZWxhdGlvbiA9IChcbiAgICAgICAgdmFsdWU6IFJlY29yZEdxbENvbm5lY3Rpb24gfCBSZWNvcmRHcWxOb2RlIHwgbnVsbCxcbiAgICAgICk6IFJlY29yZEdxbE5vZGVbXSA9PiB7XG4gICAgICAgIC8vIFRPRE8gaW52ZXN0aWdhdGUgb24gdGhlIHJvb3QgY2F1c2Ugb2YgYXJyYXkgaW5qZWN0aW9uIGhlcmUsIHNob3VsZCBuZXZlciBvY2N1cnNcbiAgICAgICAgLy8gQ2FjaGUgbWlnaHQgYmUgY29ycnVwdGVkIHNvbWV3aGVyZSBkdWUgdG8gT2JqZWN0UmVjb3JkIGFuZCBSZWNvcmRHcWxOb2RlIGluY2x1c2lvblxuICAgICAgICBpZiAoIWlzRGVmaW5lZCh2YWx1ZSkgfHwgaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNPYmplY3RSZWNvcmRDb25uZWN0aW9uKHJlbGF0aW9uRGVmaW5pdGlvbiwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLmVkZ2VzLm1hcCgoeyBub2RlIH0pID0+IG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFt2YWx1ZV07XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZWNvcmRUb0V4dHJhY3REZXRhY2hGcm9tID0gaXNEZWxldGlvblxuICAgICAgICA/IHVwZGF0ZWRGaWVsZFZhbHVlT25Tb3VyY2VSZWNvcmRcbiAgICAgICAgOiBjdXJyZW50RmllbGRWYWx1ZU9uU291cmNlUmVjb3JkO1xuICAgICAgY29uc3QgdGFyZ2V0UmVjb3Jkc1RvRGV0YWNoRnJvbSA9IGV4dHJhY3RUYXJnZXRSZWNvcmRzRnJvbVJlbGF0aW9uKFxuICAgICAgICByZWNvcmRUb0V4dHJhY3REZXRhY2hGcm9tLFxuICAgICAgKTtcblxuICAgICAgLy8gVE9ETzogc2VlIGlmIHdlIGNhbiBkZS1oYXJkY29kZSB0aGlzLCBwdXQgY2FzY2FkZSBkZWxldGUgaW4gcmVsYXRpb24gbWV0YWRhdGEgaXRlbVxuICAgICAgLy8gICBJbnN0ZWFkIG9mIGhhcmRjb2RpbmcgaXQgaGVyZVxuICAgICAgY29uc3Qgc2hvdWxkQ2FzY2FkZURlbGV0ZVRhcmdldFJlY29yZHMgPVxuICAgICAgICBDT1JFX09CSkVDVF9OQU1FU19UT19ERUxFVEVfT05fVFJJR0dFUl9SRUxBVElPTl9ERVRBQ0guaW5jbHVkZXMoXG4gICAgICAgICAgdGFyZ2V0T2JqZWN0TWV0YWRhdGEubmFtZVNpbmd1bGFyIGFzIENvcmVPYmplY3ROYW1lU2luZ3VsYXIsXG4gICAgICAgICk7XG4gICAgICBpZiAoc2hvdWxkQ2FzY2FkZURlbGV0ZVRhcmdldFJlY29yZHMpIHtcbiAgICAgICAgdHJpZ2dlckRlc3Ryb3lSZWNvcmRzT3B0aW1pc3RpY0VmZmVjdCh7XG4gICAgICAgICAgY2FjaGUsXG4gICAgICAgICAgb2JqZWN0TWV0YWRhdGFJdGVtOiBmdWxsVGFyZ2V0T2JqZWN0TWV0YWRhdGFJdGVtLFxuICAgICAgICAgIHJlY29yZHNUb0Rlc3Ryb3k6IHRhcmdldFJlY29yZHNUb0RldGFjaEZyb20sXG4gICAgICAgICAgb2JqZWN0TWV0YWRhdGFJdGVtcyxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGlzRGVmaW5lZChjdXJyZW50U291cmNlUmVjb3JkKSkge1xuICAgICAgICB0YXJnZXRSZWNvcmRzVG9EZXRhY2hGcm9tLmZvckVhY2goKHRhcmdldFJlY29yZFRvRGV0YWNoRnJvbSkgPT4ge1xuICAgICAgICAgIHRyaWdnZXJEZXRhY2hSZWxhdGlvbk9wdGltaXN0aWNFZmZlY3Qoe1xuICAgICAgICAgICAgY2FjaGUsXG4gICAgICAgICAgICBzb3VyY2VPYmplY3ROYW1lU2luZ3VsYXI6IHNvdXJjZU9iamVjdE1ldGFkYXRhSXRlbS5uYW1lU2luZ3VsYXIsXG4gICAgICAgICAgICBzb3VyY2VSZWNvcmRJZDogY3VycmVudFNvdXJjZVJlY29yZC5pZCxcbiAgICAgICAgICAgIGZpZWxkTmFtZU9uVGFyZ2V0UmVjb3JkOiB0YXJnZXRGaWVsZE1ldGFkYXRhLm5hbWUsXG4gICAgICAgICAgICB0YXJnZXRPYmplY3ROYW1lU2luZ3VsYXI6IHRhcmdldE9iamVjdE1ldGFkYXRhLm5hbWVTaW5ndWxhcixcbiAgICAgICAgICAgIHRhcmdldFJlY29yZElkOiB0YXJnZXRSZWNvcmRUb0RldGFjaEZyb20uaWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzRGVsZXRpb24gJiYgaXNEZWZpbmVkKHVwZGF0ZWRTb3VyY2VSZWNvcmQpKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldFJlY29yZHNUb0F0dGFjaFRvID0gZXh0cmFjdFRhcmdldFJlY29yZHNGcm9tUmVsYXRpb24oXG4gICAgICAgICAgdXBkYXRlZEZpZWxkVmFsdWVPblNvdXJjZVJlY29yZCxcbiAgICAgICAgKTtcblxuICAgICAgICB0YXJnZXRSZWNvcmRzVG9BdHRhY2hUby5mb3JFYWNoKCh0YXJnZXRSZWNvcmRUb0F0dGFjaFRvKSA9PlxuICAgICAgICAgIHRyaWdnZXJBdHRhY2hSZWxhdGlvbk9wdGltaXN0aWNFZmZlY3Qoe1xuICAgICAgICAgICAgY2FjaGUsXG4gICAgICAgICAgICBzb3VyY2VPYmplY3ROYW1lU2luZ3VsYXI6IHNvdXJjZU9iamVjdE1ldGFkYXRhSXRlbS5uYW1lU2luZ3VsYXIsXG4gICAgICAgICAgICBzb3VyY2VSZWNvcmRJZDogdXBkYXRlZFNvdXJjZVJlY29yZC5pZCxcbiAgICAgICAgICAgIGZpZWxkTmFtZU9uVGFyZ2V0UmVjb3JkOiB0YXJnZXRGaWVsZE1ldGFkYXRhLm5hbWUsXG4gICAgICAgICAgICB0YXJnZXRPYmplY3ROYW1lU2luZ3VsYXI6IHRhcmdldE9iamVjdE1ldGFkYXRhLm5hbWVTaW5ndWxhcixcbiAgICAgICAgICAgIHRhcmdldFJlY29yZElkOiB0YXJnZXRSZWNvcmRUb0F0dGFjaFRvLmlkLFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG4gICk7XG59O1xuIl0sIm5hbWVzIjpbInRyaWdnZXJBdHRhY2hSZWxhdGlvbk9wdGltaXN0aWNFZmZlY3QiLCJ0cmlnZ2VyRGVzdHJveVJlY29yZHNPcHRpbWlzdGljRWZmZWN0IiwidHJpZ2dlckRldGFjaFJlbGF0aW9uT3B0aW1pc3RpY0VmZmVjdCIsIkNPUkVfT0JKRUNUX05BTUVTX1RPX0RFTEVURV9PTl9UUklHR0VSX1JFTEFUSU9OX0RFVEFDSCIsImlzT2JqZWN0UmVjb3JkQ29ubmVjdGlvbiIsImlzQXJyYXkiLCJGaWVsZE1ldGFkYXRhVHlwZSIsImlzRGVlcGx5RXF1YWwiLCJpc0RlZmluZWQiLCJ0cmlnZ2VyVXBkYXRlUmVsYXRpb25zT3B0aW1pc3RpY0VmZmVjdCIsImNhY2hlIiwic291cmNlT2JqZWN0TWV0YWRhdGFJdGVtIiwiY3VycmVudFNvdXJjZVJlY29yZCIsInVwZGF0ZWRTb3VyY2VSZWNvcmQiLCJvYmplY3RNZXRhZGF0YUl0ZW1zIiwiaXNEZWxldGlvbiIsImZpZWxkcyIsImZvckVhY2giLCJmaWVsZE1ldGFkYXRhSXRlbU9uU291cmNlUmVjb3JkIiwibm90QVJlbGF0aW9uRmllbGQiLCJ0eXBlIiwiUkVMQVRJT04iLCJmaWVsZERvZXNOb3RFeGlzdCIsIm5hbWUiLCJyZWxhdGlvbkRlZmluaXRpb24iLCJ0YXJnZXRPYmplY3RNZXRhZGF0YSIsInRhcmdldEZpZWxkTWV0YWRhdGEiLCJmdWxsVGFyZ2V0T2JqZWN0TWV0YWRhdGFJdGVtIiwiZmluZCIsIm5hbWVTaW5ndWxhciIsImN1cnJlbnRGaWVsZFZhbHVlT25Tb3VyY2VSZWNvcmQiLCJ1cGRhdGVkRmllbGRWYWx1ZU9uU291cmNlUmVjb3JkIiwibm9EaWZmIiwic3RyaWN0IiwiZXh0cmFjdFRhcmdldFJlY29yZHNGcm9tUmVsYXRpb24iLCJ2YWx1ZSIsImVkZ2VzIiwibWFwIiwibm9kZSIsInJlY29yZFRvRXh0cmFjdERldGFjaEZyb20iLCJ0YXJnZXRSZWNvcmRzVG9EZXRhY2hGcm9tIiwic2hvdWxkQ2FzY2FkZURlbGV0ZVRhcmdldFJlY29yZHMiLCJpbmNsdWRlcyIsIm9iamVjdE1ldGFkYXRhSXRlbSIsInJlY29yZHNUb0Rlc3Ryb3kiLCJ0YXJnZXRSZWNvcmRUb0RldGFjaEZyb20iLCJzb3VyY2VPYmplY3ROYW1lU2luZ3VsYXIiLCJzb3VyY2VSZWNvcmRJZCIsImlkIiwiZmllbGROYW1lT25UYXJnZXRSZWNvcmQiLCJ0YXJnZXRPYmplY3ROYW1lU2luZ3VsYXIiLCJ0YXJnZXRSZWNvcmRJZCIsInRhcmdldFJlY29yZHNUb0F0dGFjaFRvIiwidGFyZ2V0UmVjb3JkVG9BdHRhY2hUbyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EscUNBQXFDLFFBQVEseUVBQXlFO0FBQy9ILFNBQVNDLHFDQUFxQyxRQUFRLHlFQUF5RTtBQUMvSCxTQUFTQyxxQ0FBcUMsUUFBUSx5RUFBeUU7QUFDL0gsU0FBU0Msc0RBQXNELFFBQVEseURBQXlEO0FBR2hJLFNBQVNDLHdCQUF3QixRQUFRLHVEQUF1RDtBQUloRyxTQUFTQyxPQUFPLFFBQVEsaUJBQWlCO0FBQ3pDLFNBQVNDLGlCQUFpQixRQUFRLCtCQUErQjtBQUNqRSxTQUFTQyxhQUFhLFFBQVEsd0JBQXdCO0FBQ3RELFNBQVNDLFNBQVMsUUFBUSxzQkFBc0I7QUFTaEQsT0FBTyxNQUFNQyx5Q0FBeUMsQ0FBQyxFQUNyREMsS0FBSyxFQUNMQyx3QkFBd0IsRUFDeEJDLG1CQUFtQixFQUNuQkMsbUJBQW1CLEVBQ25CQyxtQkFBbUIsRUFDd0I7SUFDM0MsTUFBTUMsYUFDSlAsVUFBVUssd0JBQ1ZMLFVBQVVLLG1CQUFtQixDQUFDLFlBQVk7SUFFNUMsT0FBT0YseUJBQXlCSyxNQUFNLENBQUNDLE9BQU8sQ0FDNUMsQ0FBQ0M7UUFDQyxNQUFNQyxvQkFDSkQsZ0NBQWdDRSxJQUFJLEtBQUtkLGtCQUFrQmUsUUFBUTtRQUVyRSxJQUFJRixtQkFBbUI7WUFDckI7UUFDRjtRQUVBLE1BQU1HLG9CQUNKZCxVQUFVSyx3QkFDVixDQUFFSyxDQUFBQSxnQ0FBZ0NLLElBQUksSUFBSVYsbUJBQWtCO1FBRTlELElBQUlTLG1CQUFtQjtZQUNyQjtRQUNGO1FBRUEsTUFBTUUscUJBQ0pOLGdDQUFnQ00sa0JBQWtCO1FBRXBELElBQUksQ0FBQ0Esb0JBQW9CO1lBQ3ZCO1FBQ0Y7UUFFQSxNQUFNLEVBQUVDLG9CQUFvQixFQUFFQyxtQkFBbUIsRUFBRSxHQUFHRjtRQUV0RCxNQUFNRywrQkFBK0JiLG9CQUFvQmMsSUFBSSxDQUMzRCxDQUFDLEVBQUVDLFlBQVksRUFBRSxHQUNmQSxpQkFBaUJKLHFCQUFxQkksWUFBWTtRQUd0RCxJQUFJLENBQUNGLDhCQUE4QjtZQUNqQztRQUNGO1FBRUEsTUFBTUcsa0NBR0tsQixxQkFBcUIsQ0FBQ00sZ0NBQWdDSyxJQUFJLENBQUM7UUFFdEUsTUFBTVEsa0NBR0tsQixxQkFBcUIsQ0FBQ0ssZ0NBQWdDSyxJQUFJLENBQUM7UUFFdEUsTUFBTVMsU0FBU3pCLGNBQ2J1QixpQ0FDQUMsaUNBQ0E7WUFBRUUsUUFBUTtRQUFLO1FBRWpCLElBQUlELFVBQVUsQ0FBQ2pCLFlBQVk7WUFDekI7UUFDRjtRQUVBLE1BQU1tQixtQ0FBbUMsQ0FDdkNDO1lBRUEsa0ZBQWtGO1lBQ2xGLHFGQUFxRjtZQUNyRixJQUFJLENBQUMzQixVQUFVMkIsVUFBVTlCLFFBQVE4QixRQUFRO2dCQUN2QyxPQUFPLEVBQUU7WUFDWDtZQUVBLElBQUkvQix5QkFBeUJvQixvQkFBb0JXLFFBQVE7Z0JBQ3ZELE9BQU9BLE1BQU1DLEtBQUssQ0FBQ0MsR0FBRyxDQUFDLENBQUMsRUFBRUMsSUFBSSxFQUFFLEdBQUtBO1lBQ3ZDO1lBRUEsT0FBTztnQkFBQ0g7YUFBTTtRQUNoQjtRQUVBLE1BQU1JLDRCQUE0QnhCLGFBQzlCZ0Isa0NBQ0FEO1FBQ0osTUFBTVUsNEJBQTRCTixpQ0FDaENLO1FBR0YscUZBQXFGO1FBQ3JGLGtDQUFrQztRQUNsQyxNQUFNRSxtQ0FDSnRDLHVEQUF1RHVDLFFBQVEsQ0FDN0RqQixxQkFBcUJJLFlBQVk7UUFFckMsSUFBSVksa0NBQWtDO1lBQ3BDeEMsc0NBQXNDO2dCQUNwQ1M7Z0JBQ0FpQyxvQkFBb0JoQjtnQkFDcEJpQixrQkFBa0JKO2dCQUNsQjFCO1lBQ0Y7UUFDRixPQUFPLElBQUlOLFVBQVVJLHNCQUFzQjtZQUN6QzRCLDBCQUEwQnZCLE9BQU8sQ0FBQyxDQUFDNEI7Z0JBQ2pDM0Msc0NBQXNDO29CQUNwQ1E7b0JBQ0FvQywwQkFBMEJuQyx5QkFBeUJrQixZQUFZO29CQUMvRGtCLGdCQUFnQm5DLG9CQUFvQm9DLEVBQUU7b0JBQ3RDQyx5QkFBeUJ2QixvQkFBb0JILElBQUk7b0JBQ2pEMkIsMEJBQTBCekIscUJBQXFCSSxZQUFZO29CQUMzRHNCLGdCQUFnQk4seUJBQXlCRyxFQUFFO2dCQUM3QztZQUNGO1FBQ0Y7UUFFQSxJQUFJLENBQUNqQyxjQUFjUCxVQUFVSyxzQkFBc0I7WUFDakQsTUFBTXVDLDBCQUEwQmxCLGlDQUM5Qkg7WUFHRnFCLHdCQUF3Qm5DLE9BQU8sQ0FBQyxDQUFDb0MseUJBQy9CckQsc0NBQXNDO29CQUNwQ1U7b0JBQ0FvQywwQkFBMEJuQyx5QkFBeUJrQixZQUFZO29CQUMvRGtCLGdCQUFnQmxDLG9CQUFvQm1DLEVBQUU7b0JBQ3RDQyx5QkFBeUJ2QixvQkFBb0JILElBQUk7b0JBQ2pEMkIsMEJBQTBCekIscUJBQXFCSSxZQUFZO29CQUMzRHNCLGdCQUFnQkUsdUJBQXVCTCxFQUFFO2dCQUMzQztRQUVKO0lBQ0Y7QUFFSixFQUFFIn0=